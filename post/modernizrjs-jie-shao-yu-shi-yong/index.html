<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<title>胡新敏的个人博客</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<meta name="description" content="胡新敏的个人博客"/>
<meta name="keywords" content="胡新敏的个人博客"/>

<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
<link rel="shortcut icon" href="https://huxinmin.github.io/favicon.ico">

<link rel="stylesheet" href="https://huxinmin.github.io/styles/main.css">

<!-- Modernizr JS -->
<script src="https://huxinmin.github.io/media/scripts/modernizr-2.6.2.min.js"></script>
<!-- FOR IE9 below -->
<!--[if lt IE 9]>
<scripts src="https://huxinmin.github.io/media/scripts/respond.min.js"></scripts>
<![endif]-->

<!-- Comment -->



<!-- katex -->
<!--<link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet">-->

<link href="https://cdn.bootcss.com/font-awesome/5.11.2/css/all.min.css" rel="stylesheet">



</head>
<body>
    <div id="fh5co-offcanvas">
    <a href="#!" class="fh5co-close-offcanvas js-fh5co-close-offcanvas">
        <span><i class="icon-cross3"></i> <span>Close</span></span>
    </a>
    <div class="fh5co-bio">
        <figure>
            <img src="https://huxinmin.github.io/images/avatar.png" alt="胡新敏的个人博客"
                 class="img-responsive">
        </figure>
        <a href="https://huxinmin.github.io/post/about/"><h3 class="heading">ABOUT ME</h3></a>
        <h2>胡新敏的个人博客</h2>
        <p>胡新敏的个人博客</p>
        <ul class="fh5co-social">
            
                <li>
                    
                        <a href="https://github.com/huxinmin" target="_blank">
                            <i class="fab fa-github"></i>
                        </a>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                        <a href="https://www.zhihu.com/people/hu-xin-min-99" target="_blank">
                            <i class="fab fa-zhihu"></i>
                        </a>
                    
                </li>
            
                <li>
                    
                </li>
            
        </ul>
    </div>

    <div class="fh5co-menu">

        <!-- 标签 -->
        <div class="fh5co-box">
            <a href="https://huxinmin.github.io/tags/"><h3 class="heading">👉标签</h3></a>
            <ul>
                
                    <li><a href="https://huxinmin.github.io/tag/mSeB0wbbH/">linux</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/0CEgc5Nuc/">react</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/7tyyR9fOk/">ja</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/AzH6zVqFK/">js</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/UJq-iLfq6/">restful</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/r0zynGCMV/">http</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/GNbObqsVG/">json</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/dZU9srOJ4/">moment.js</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/wsD4ABEPz/">数据库</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/tq8jF2xcA/">mongoose</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/VL5yScL71/">mongodb</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/XRK7arMJO/">nodejs</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/DJMLUSVfi/">html5</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/oHlYLx_Tl/">websocket</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/8-tAS0eFO/">nginx</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/X3jlBk5nJ/">css</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/H8XsrzQ7e/">css3</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/J27JVlP2F/">文件上传</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/X3Z7s8kF_/">jquery</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/CrwH886ky/">ajax</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/s0bxFP3uF/">express</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/ZSDYSDwY2/">其他</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/4OX23_HC0/">jest</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/JavlGTiRY/">editorconfig</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/pTofQIx8N/">待办事宜</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/8u7cjaUBn/">随笔</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/knySerdH-/">git</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/NSyjPJZkv/">aws</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/pU8c2aJR5/">webassembly</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/UsaB01y9b/">sublime</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/oVWhBDgSF/">centos</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/JqHVZntTk/">putty</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/HOjS4qCUx/">npm</a></li>
                
            </ul>
        </div>
    </div>
</div>

<header id="fh5co-header">
    <div class="container-fluid">
        <div class="row">
            <a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle"><i></i></a>
            <ul class="fh5co-social">
                
                    <li>
                        <a href="/"
                        
                        >
                            首页
                        </a>
                    </li>
                
                    <li>
                        <a href="/archives"
                        
                        >
                            归档
                        </a>
                    </li>
                
                    <li>
                        <a href="/tags"
                        
                        >
                            标签
                        </a>
                    </li>
                
                    <li>
                        <a href="/post/about"
                        
                        >
                            关于
                        </a>
                    </li>
                
            </ul>
            <div class="col-lg-12 col-md-12 text-center">
                <h1 id="fh5co-logo">
                    <a href="https://huxinmin.github.io">胡新敏的个人博客 </a>
                </h1>
            </div>
        </div>
    </div>
</header>


    <!--  <a href="#" class="fh5co-post-prev"><span>👈 Prev</span></a>-->
    <!--  <a href="#" class="fh5co-post-next"><span>Next 👉</span></a>-->

    <!-- 等gridea出自定义页面功能再优化一下 -->
    
        <div class="container-fluid">
    <div class="row fh5co-post-entry single-entry">
        <article class="col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-8 col-sm-offset-2 col-xs-12 col-xs-offset-0">
            <figure class="animate-box">
                
                    <img src="https://huxinmin.github.io/post-images/modernizrjs-jie-shao-yu-shi-yong.jpg" alt="Modernizr.js介绍与使用" class="img-responsive">
                
            </figure>
            <span class="fh5co-meta animate-box">
                
            </span>
            <h2 class="fh5co-article-title animate-box">Modernizr.js介绍与使用</h2>
            <ol class="breadcrumb fh5co-meta fh5co-date animate-box" style="margin-bottom:0; background-color:#f8f9fa">
                <li>2020-04-09</li>
                <li>1786字</li>
                <li>8 min read</li>
            </ol>

            <div class="col-lg-12 col-lg-offset-0 col-md-12 col-md-offset-0 col-sm-12 col-sm-offset-0 col-xs-12 col-xs-offset-0 text-left content-article">
                <div class="row">
                    <div class="col-md-12 animate-box post-content">
                        <p> <h2 id="简介">简介</h2>
<p>Modernizr 是一个用来检测浏览器功能支持情况的 JavaScript 库。 目前，通过检验浏览器对一系列测试的处理情况，Modernizr 可以检测CSS3 以及HTML5 的功能。 它比传统检测浏览器名称（浏览器嗅探）的方式更为可靠。 一整套测试的执行时间仅需几微秒。 此外，Modernizr 网站通过定制脚本只对你感兴趣的元素进行检测，从而实现效率优化。</p>
<p>总结来说，就是Modernizr.js既能给老版本浏览器打补丁，又能保证新浏览器渐进增强的用户体验。</p>
<h2 id="why-modernizr">Why Modernizr?</h2>
<p>尽管我们可以自己写代码来判断浏览器是否支持某些HTML5/CSS3特性，但是代码都不是很简单。例如：写代码判断浏览器是否支持canvans，我们的代码如下：</p>
<pre><code class="language-js">function canvasSupported() {
    var canvas = document.createElement('canvas');
    return (canvas.getContext &amp;&amp; canvas.getContext('2d'));
}
</code></pre>
<p>如果要判断是否支持本地存储（local storage），代码可能和下面的类似，但是很容易再Firefox下产生bug:</p>
<pre><code class="language-js">function localStorageSupported() {
    try {
         return ('localStorage' in window &amp;&amp; window['localStorage'] != null);
    }
    catch(e) {}
    return false;
}
</code></pre>
<p>前面2个例子都是分别检查一个特性，如果有很多HTML5/CSS3特性的话，我们不得不写多份代码来判断，不过还算幸运的是这些代码没有依赖顺序。Modernizr可以让你用很少的代码来实现上述复杂的功能。</p>
<h2 id="使用">使用</h2>
<p>Modernizr官方站点：<a href="http://modernizr.com" target="_blank" rel="nofollow">http://modernizr.com</a>，我们可以直接在官网上面进行下载，官网提供了2个类型的脚本（开发版和自定义的生产版本）。网站提供了一个自定义需求的工具来生成仅仅你需要的探测功能，而不是一个什么都可以探测的大而全的版本，就是说你可以让你的脚本最小化。<br>
<img src="https://huxinmin.oss-cn-qingdao.aliyuncs.com/%E5%8D%9A%E5%AE%A2/Modernizr.js%E4%BB%8B%E7%BB%8D%E4%B8%8E%E4%BD%BF%E7%94%A8/modernizr.png" alt="自定义modernizr脚本"></p>
<p>下载完你自定义的脚本以后，你就可以像引用普通js文件一样引用它了，然后就可以用了。</p>
<pre><code class="language-js">&lt;script src=&quot;Scripts/Modernizr.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
</code></pre>
<h2 id="html-与-classname">Html 与 className</h2>
<p>添加完Modernizr引用以后，它会在<code>&lt;html&gt;</code>元素上添加一批CSS的class名称，这些class名称标记当前浏览器支持哪些特性和不支持哪些特性，支持的特性就直接显示该天特性的名称作为一个class（例如:<code>canvas</code>,<code>websockets</code>），不支持的特性显示的class是“no-特性名称”（例如：<code>no-flexbox</code>）。下面这段代码是运行在Chrome下的效果：</p>
<pre><code class="language-html">&lt;html class=&quot; js flexbox canvas canvastext webgl no-touch geolocation postmessage 
              websqldatabase indexeddb hashchange history draganddrop websockets 
　　　　　　　　rgba hsla multiplebgs backgroundsize borderimage borderradius 
　　　　　　　　boxshadow textshadow opacity cssanimations csscolumns cssgradients
　　　　　　　　cssreflections csstransforms csstransforms3d csstransitions fontface 
　　　　　　　  generatedcontent video audio localstorage sessionstorage webworkers 
              applicationcache svg inlinesvg smil svgclippaths&quot;&gt;
</code></pre>
<p>下面这段代码是运行在IE9下的效果：</p>
<pre><code class="language-html">&lt;html class=&quot; js no-flexbox canvas canvastext no-webgl no-touch geolocation 
              postmessage no-websqldatabase no-indexeddb hashchange no-history 
　　　　　　　　draganddrop no-websockets rgba hsla multiplebgs backgroundsize 
　　　　　　　　no-borderimage borderradius boxshadow no-textshadow opacity 
　　　　　　　　no-cssanimations no-csscolumns no-cssgradients no-cssreflections
　　　　　　　　csstransforms no-csstransforms3d no-csstransitions fontface 
　　　　　　　　generatedcontent video audio localstorage sessionstorage 
　　　　　　　　no-webworkers no-applicationcache svg inlinesvg smil svgclippaths&quot;&gt;
</code></pre>
<p>使用Modernizr，有可能会出现下面代码的情况（添加no-js名称到class里）：</p>
<pre><code class="language-html">&lt;html class=&quot;no-js&quot;&gt;
</code></pre>
<p>添加no-js class到html元素下，是告诉浏览器是否支持JavaScript，如果不支持就显示<code>no-js</code>，如果支持就把<code>no-js</code>删掉。</p>
<h2 id="嗅探使用">嗅探使用</h2>
<ul>
<li>
<h4 id="直接使用在根html元素里生成的classname">直接使用在根<code>&lt;html&gt;</code>元素里生成的className</h4>
</li>
</ul>
<pre><code class="language-css">.boxshadow #MyContainer {
    border: none;
    -webkit-box-shadow: #666 1px 1px 1px;
    -moz-box-shadow: #666 1px 1px 1px;
}
.no-boxshadow #MyContainer {
    border: 2px solid black;
}
</code></pre>
<p>如果浏览器支持<code>box-shadows</code>的话，Modernizr就会将boxshadow class添加到<html>元素，然后你可以将它管理到一个相应的div的id上。如果不支持，Modernizr就会将<code>no-boxshadow</code> class添加到<code>&lt;html&gt;</code>元素，这样显示的就是一个标准的边框。这样我们就可以很方便地在支持CSS3特性的浏览器上使用CSS3新功能，不支持的浏览器上继续使用以前的方式。</p>
<ul>
<li>
<h4 id="使用全局的modernizr-javascript对象">使用全局的<code>Modernizr JavaScript</code>对象</h4>
</li>
</ul>
<p>该对象提供了不同的属性来表示某种新特性在当前浏览器下是否支持。例如，下面的代码可以用于判断浏览器是否支持canvas和local storag:</p>
<pre><code class="language-js">if (Modernizr.canvas) {
        //Add canvas code
}
if (Modernizr.localstorage) {
        //Add local storage code
 }
</code></pre>
<p>全局的Modernizr对象也可以用来探测是否支持CSS3特性，下面的代码用于测试是否支持<code>border-radius</code> 和CSS <code>transforms</code>:</p>
<pre><code class="language-js">if (Modernizr.borderradius) {
       //Add borderradiuscode
}
if (Modernizr.csstransforms) {
       //Add csstransformscode
}
</code></pre>
<h2 id="支持检测的特性">支持检测的特性</h2>
<p>在自定义下载页面，即可看到支持哪些特性以及使用方法，地址：<a href="https://modernizr.com/download?dontmin" target="_blank" rel="nofollow">https://modernizr.com/download?dontmin</a></p>
<h2 id="无法检测的特性">无法检测的特性</h2>
<p>在这个页面即可查看所有的不支持检测的特性：<a href="https://github.com/Modernizr/Modernizr/wiki/Undetectables" target="_blank" rel="nofollow">https://github.com/Modernizr/Modernizr/wiki/Undetectables</a></p>
<h2 id="加载script脚本">加载Script脚本</h2>
<p>在某些不支持新特性的浏览器上，Modernizr不仅仅提供了上述方式告诉你，也提供了load功能允许你加载一些<code>shim/polyfil</code>l脚本来达到支持的目的。Modernizr提供了一个脚本加载器来判断一个功能，如果不支持就加载相应的脚本。单独的脚本也可以在<a href="" target="_blank" rel="nofollow">http://yepnopejs.com</a>找到。</p>
<p>可以使用Modernizr的<code>load()</code>函数来动态加载脚本，该函数的test属性是表明要测试是否支持的新特性，如果测试成功支持的话，就加载yep属性设置的脚本，如果不支持就加载nope属性设置的脚本，不管是否支持，both属性里设置的脚本都会加载的。例子代码如下：</p>
<pre><code class="language-js">Modernizr.load({
    test: Modernizr.canvas,
    yep:  'html5CanvasAvailable.js’,
    nope: 'excanvas.js’, 
    both: 'myCustomScript.js' 
});
</code></pre>
<p>在该例子里，Modernizr会判断当前浏览器是否支持canvas特性，如果支持，那就会加载<code>html5CanvasAvailable.js</code>和<code>myCustomScript.js</code>这两个脚本，如果不支持，就会加载<code>excanvas.js</code>（用于IE9之前的版本）脚本文件以让该浏览器支持canvas功能，然后再加载<code>myCustomScript.js</code>脚本。</p>
<p>因为Modernizr可以加载脚本，所以你还可以用于其它的用途，比如，如果你引用的第三方脚本（例如提供CDN服务的Google和Microsoft提供jquery的托管）加载失败的情况下，可以加载备用的文件。下面的代码是Modernizr提供的一个加载jquery的示例：</p>
<pre><code class="language-js">Modernizr.load([
    {
        load: '//ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.js',
        complete: function () {
            if (!window.jQuery) {
                Modernizr.load('js/libs/jquery-1.6.4.min.js');
            }
        }
    },
    {
        // This will wait for the fallback to load and
        // execute if it needs to.
        load: 'needs-jQuery.js'
    }
]);
</code></pre>
<p>该代码会首先从Google CDN加载jQuery文件，如果下载或加载失败，complete函数就会执行，首先判断jQeury对象是否存在，如果不存在，Modernizr就会加载定义好的本机js文件，如果连 complete里的文件都加载不成功，就会加载<code>needs-jQuery.js</code>文件。</p>
<h2 id="html5跨浏览器垫片">HTML5跨浏览器垫片</h2>
<p>在这个页面可以找到官方收集的对于跨浏览器的各种垫片插件：<a href="https://github.com/Modernizr/Modernizr/wiki/HTML5-Cross-Browser-Polyfills" target="_blank" rel="nofollow">https://github.com/Modernizr/Modernizr/wiki/HTML5-Cross-Browser-Polyfills</a></p>
<h2 id="参考资料">参考资料</h2>
<ul>
<li><a href="https://github.com/Modernizr/Modernizr" target="_blank" rel="nofollow">Modernizr Github地址</a></li>
<li><a href="https://modernizr.com/" target="_blank" rel="nofollow">Modernizr官网</a></li>
<li><a href="https://hacks.mozilla.org/2012/07/the-web-developer-toolbox-modernizr/" target="_blank" rel="nofollow">The Web Developer Toolbox: Modernizr</a></li>
<li><a href="http://yepnopejs.com/" target="_blank" rel="nofollow">YepNopeJS官网</a></li>
<li><a href="https://segmentfault.com/a/1190000003820989" target="_blank" rel="nofollow">JS进阶篇--前端的瑞士军刀Modernizr.js</a></li>
</ul>
 </p>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12 animate-box">
                        
                            <div class="next-post">
                                <div class="next">下一篇</div>
                                <a href="https://huxinmin.github.io/post/fetch-shi-yong-fang-fa-yi-ji-yu-chuan-tong-ajax-dui-bi/">
                                    <h3 class="post-title">
                                        Fetch使用方法以及与传统Ajax对比
                                    </h3>
                                </a>
                            </div>
                        
                    </div>
                </div>

                <div class="row">
    <div class="col-md-12 animate-box">
        
    </div>
</div>

            </div>

        </article>
    </div>
</div>

    

    <!-- 返回顶部 -->
    <div class="back-to-top">
    
        <a href="#!" id="tool-toc" class="hidden-xs hidden-sm">
            <i class="fa fa-map"></i>
        </a>
        <br>
    
    <a href="#top" class="hidden-xs hidden-sm"><i class="fa fa-paper-plane"></i></a>
</div>

<div class="post-toc animated fadeInRight hidden-xs hidden-sm" style="display: none;">
    <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#%E7%AE%80%E4%BB%8B">简介</a></li>
<li><a href="#why-modernizr">Why Modernizr?</a></li>
<li><a href="#%E4%BD%BF%E7%94%A8">使用</a></li>
<li><a href="#html-%E4%B8%8E-classname">Html 与 className</a></li>
<li><a href="#%E5%97%85%E6%8E%A2%E4%BD%BF%E7%94%A8">嗅探使用</a><br>
*
<ul>
<li><a href="#%E7%9B%B4%E6%8E%A5%E4%BD%BF%E7%94%A8%E5%9C%A8%E6%A0%B9html%E5%85%83%E7%B4%A0%E9%87%8C%E7%94%9F%E6%88%90%E7%9A%84classname">直接使用在根<code>&lt;html&gt;</code>元素里生成的className</a></li>
<li><a href="#%E4%BD%BF%E7%94%A8%E5%85%A8%E5%B1%80%E7%9A%84modernizr-javascript%E5%AF%B9%E8%B1%A1">使用全局的<code>Modernizr JavaScript</code>对象</a></li>
</ul>
</li>
<li><a href="#%E6%94%AF%E6%8C%81%E6%A3%80%E6%B5%8B%E7%9A%84%E7%89%B9%E6%80%A7">支持检测的特性</a></li>
<li><a href="#%E6%97%A0%E6%B3%95%E6%A3%80%E6%B5%8B%E7%9A%84%E7%89%B9%E6%80%A7">无法检测的特性</a></li>
<li><a href="#%E5%8A%A0%E8%BD%BDscript%E8%84%9A%E6%9C%AC">加载Script脚本</a></li>
<li><a href="#html5%E8%B7%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E5%9E%AB%E7%89%87">HTML5跨浏览器垫片</a></li>
<li><a href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">参考资料</a></li>
</ul>
</li>
</ul>

</div>


    
<footer id="fh5co-footer">
  <p>Powered by <a href="https://huxinmin.github.io" target="_blank">胡新敏的个人博客</a></p>
</footer>


    <!-- jQuery -->
<script src="https://huxinmin.github.io/media/scripts/jquery.min.js"></script>
<!-- img lazy load -->
<script src="https://huxinmin.github.io/media/scripts/jquery.lazyload.min.js"></script>
<!-- jQuery Easing -->
<script src="https://huxinmin.github.io/media/scripts/jquery.easing.1.3.js"></script>
<!-- Bootstrap -->
<script src="https://huxinmin.github.io/media/scripts/bootstrap.min.js"></script>
<!-- Waypoints -->
<script src="https://huxinmin.github.io/media/scripts/jquery.waypoints.min.js"></script>
<!-- Main JS -->
<script src="https://huxinmin.github.io/media/scripts/main.js"></script>
<!-- Md5 Min JS -->
<script src="https://huxinmin.github.io/media/scripts/md5.min.js"></script>
<!-- katex -->
<!--<script src="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.js"></script>-->
<!-- highlight -->
<script src="https://cdn.bootcss.com/highlight.js/9.15.8/highlight.min.js"></script>


<script type="application/javascript">
    // 代码高亮
    hljs.initHighlightingOnLoad();

    // img 懒加载
    $(function () {
        $("img.lazy").lazyload({
            effect: "fadeIn",  // 懒加载动画
            threshold: 180  // 在图片距离屏幕180px时提前载入
        });
        // tooltip
        $('[data-toggle="tooltip"]').tooltip();

        // 目录
        $('#tool-toc').click(function () {
            $('.post-toc').toggle();
        });
    });

    
        var allImg = $("img");
        allImg.on("contextmenu", function () {
            return false;
        });
        allImg.on("dragstart", function () {
            return false;
        });
    
</script>




</body>
</html>
