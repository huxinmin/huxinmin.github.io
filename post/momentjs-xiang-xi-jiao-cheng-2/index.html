<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<title>èƒ¡æ–°æ•çš„ä¸ªäººåšå®¢</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<meta name="description" content="èƒ¡æ–°æ•çš„ä¸ªäººåšå®¢"/>
<meta name="keywords" content="èƒ¡æ–°æ•çš„ä¸ªäººåšå®¢"/>

<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
<link rel="shortcut icon" href="https://huxinmin.github.io/favicon.ico">

<link rel="stylesheet" href="https://huxinmin.github.io/styles/main.css">

<!-- Modernizr JS -->
<script src="https://huxinmin.github.io/media/scripts/modernizr-2.6.2.min.js"></script>
<!-- FOR IE9 below -->
<!--[if lt IE 9]>
<scripts src="https://huxinmin.github.io/media/scripts/respond.min.js"></scripts>
<![endif]-->

<!-- Comment -->



<!-- katex -->
<!--<link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet">-->

<link href="https://cdn.bootcss.com/font-awesome/5.11.2/css/all.min.css" rel="stylesheet">



</head>
<body>
    <div id="fh5co-offcanvas">
    <a href="#!" class="fh5co-close-offcanvas js-fh5co-close-offcanvas">
        <span><i class="icon-cross3"></i> <span>Close</span></span>
    </a>
    <div class="fh5co-bio">
        <figure>
            <img src="https://huxinmin.github.io/images/avatar.png" alt="èƒ¡æ–°æ•çš„ä¸ªäººåšå®¢"
                 class="img-responsive">
        </figure>
        <a href="https://huxinmin.github.io/post/about/"><h3 class="heading">ABOUT ME</h3></a>
        <h2>èƒ¡æ–°æ•çš„ä¸ªäººåšå®¢</h2>
        <p>èƒ¡æ–°æ•çš„ä¸ªäººåšå®¢</p>
        <ul class="fh5co-social">
            
                <li>
                    
                        <a href="https://github.com/huxinmin" target="_blank">
                            <i class="fab fa-github"></i>
                        </a>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                        <a href="https://www.zhihu.com/people/hu-xin-min-99" target="_blank">
                            <i class="fab fa-zhihu"></i>
                        </a>
                    
                </li>
            
                <li>
                    
                </li>
            
        </ul>
    </div>

    <div class="fh5co-menu">

        <!-- æ ‡ç­¾ -->
        <div class="fh5co-box">
            <a href="https://huxinmin.github.io/tags/"><h3 class="heading">ğŸ‘‰æ ‡ç­¾</h3></a>
            <ul>
                
                    <li><a href="https://huxinmin.github.io/tag/mSeB0wbbH/">linux</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/0CEgc5Nuc/">react</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/7tyyR9fOk/">ja</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/AzH6zVqFK/">js</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/UJq-iLfq6/">restful</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/r0zynGCMV/">http</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/GNbObqsVG/">json</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/dZU9srOJ4/">moment.js</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/wsD4ABEPz/">æ•°æ®åº“</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/tq8jF2xcA/">mongoose</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/VL5yScL71/">mongodb</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/XRK7arMJO/">nodejs</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/DJMLUSVfi/">html5</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/oHlYLx_Tl/">websocket</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/8-tAS0eFO/">nginx</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/X3jlBk5nJ/">css</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/H8XsrzQ7e/">css3</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/J27JVlP2F/">æ–‡ä»¶ä¸Šä¼ </a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/X3Z7s8kF_/">jquery</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/CrwH886ky/">ajax</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/s0bxFP3uF/">express</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/ZSDYSDwY2/">å…¶ä»–</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/4OX23_HC0/">jest</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/JavlGTiRY/">editorconfig</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/pTofQIx8N/">å¾…åŠäº‹å®œ</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/8u7cjaUBn/">éšç¬”</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/knySerdH-/">git</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/NSyjPJZkv/">aws</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/pU8c2aJR5/">webassembly</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/UsaB01y9b/">sublime</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/oVWhBDgSF/">centos</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/JqHVZntTk/">putty</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/HOjS4qCUx/">npm</a></li>
                
            </ul>
        </div>
    </div>
</div>

<header id="fh5co-header">
    <div class="container-fluid">
        <div class="row">
            <a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle"><i></i></a>
            <ul class="fh5co-social">
                
                    <li>
                        <a href="/"
                        
                        >
                            é¦–é¡µ
                        </a>
                    </li>
                
                    <li>
                        <a href="/archives"
                        
                        >
                            å½’æ¡£
                        </a>
                    </li>
                
                    <li>
                        <a href="/tags"
                        
                        >
                            æ ‡ç­¾
                        </a>
                    </li>
                
                    <li>
                        <a href="/post/about"
                        
                        >
                            å…³äº
                        </a>
                    </li>
                
            </ul>
            <div class="col-lg-12 col-md-12 text-center">
                <h1 id="fh5co-logo">
                    <a href="https://huxinmin.github.io">èƒ¡æ–°æ•çš„ä¸ªäººåšå®¢ </a>
                </h1>
            </div>
        </div>
    </div>
</header>


    <!--  <a href="#" class="fh5co-post-prev"><span>ğŸ‘ˆ Prev</span></a>-->
    <!--  <a href="#" class="fh5co-post-next"><span>Next ğŸ‘‰</span></a>-->

    <!-- ç­‰grideaå‡ºè‡ªå®šä¹‰é¡µé¢åŠŸèƒ½å†ä¼˜åŒ–ä¸€ä¸‹ -->
    
        <div class="container-fluid">
    <div class="row fh5co-post-entry single-entry">
        <article class="col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-8 col-sm-offset-2 col-xs-12 col-xs-offset-0">
            <figure class="animate-box">
                
                    <img src="https://huxinmin.github.io/post-images/momentjs-xiang-xi-jiao-cheng-2.png" alt="Moment.js è¯¦ç»†æ•™ç¨‹2" class="img-responsive">
                
            </figure>
            <span class="fh5co-meta animate-box">
                
                    <div class="tag-container">
                        
                            <a href="https://huxinmin.github.io/tag/dZU9srOJ4/" class="tag">moment.js, </a>
                        
                            <a href="https://huxinmin.github.io/tag/AzH6zVqFK/" class="tag">js, </a>
                        
                    </div>
                
            </span>
            <h2 class="fh5co-article-title animate-box">Moment.js è¯¦ç»†æ•™ç¨‹2</h2>
            <ol class="breadcrumb fh5co-meta fh5co-date animate-box" style="margin-bottom:0; background-color:#f8f9fa">
                <li>2020-04-20</li>
                <li>2916å­—</li>
                <li>15 min read</li>
            </ol>

            <div class="col-lg-12 col-lg-offset-0 col-md-12 col-md-offset-0 col-sm-12 col-sm-offset-0 col-xs-12 col-xs-offset-0 text-left content-article">
                <div class="row">
                    <div class="col-md-12 animate-box post-content">
                        <p> <p>æœ¬æ–‡æ˜¯æ¥ç€ä¸Šä¸€ç¯‡æ–‡ç« å†™å¾—ï¼Œåœ°å€ä¸ºï¼š<a href="https://www.huxinmin.com/home/5ad755c6117a030debfa10e0.html" target="_blank">Moment.js è¯¦ç»†æ•™ç¨‹1</a></p>
<h2 id="å›½é™…åŒ–">å›½é™…åŒ–</h2>
<p>Moment.jséå¸¸é”®å…¨çš„æ”¯æŒæ—¥æœŸæ—¶é—´çš„å›½é™…åŒ–ã€‚ä½ å¯ä»¥è½½å…¥å¤šä¸ªåŒºåŸŸçš„æ—¶é—´ï¼Œå¹¶ä¸”å¯ä»¥è½»æ¾çš„åœ¨å®ƒä»¬ä¹‹é—´åˆ‡æ¢ã€‚ä½ ä¹Ÿå¯ä»¥å°†æŸä¸ªè¯¦ç»†åŒºåŸŸçš„æ—¶é—´ï¼Œè®¾ç½®ä¸ºå…¨å±€æ—¶é—´ã€‚</p>
<ol>
<li>å–å¾—æˆ–è®¾ç½®å…¨å±€è¯­è¨€ï¼Œä¼ å…¥å€¼è¡¨ç¤ºè®¾ç½®ï¼Œä¸ä¼ å…¥å€¼è¡¨ç¤ºè·å–</li>
</ol>
<pre><code class="language-js">// From 2.8.1 ä¹‹å
moment.locale(String);
moment.locale(String[]);
moment.locale(String, Object);
// 2.8.1ä¹‹å‰
moment.lang(String);
moment.lang(String[]);
moment.lang(String, Object);
</code></pre>
<pre><code class="language-js">moment.locale('fr', {
    months : 'janvier_fÃ©vrier_mars_avril_mai_juin_juillet_aoÃ»t_septembre_octobre_novembre_dÃ©cembre'.split('_'),
    monthsShort : 'janv._fÃ©vr._mars_avr._mai_juin_juil._aoÃ»t_sept._oct._nov._dÃ©c.'.split('_'),
    monthsParseExact : true,
    weekdays : 'dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi'.split('_'),
    weekdaysShort : 'dim._lun._mar._mer._jeu._ven._sam.'.split('_'),
    weekdaysMin : 'Di_Lu_Ma_Me_Je_Ve_Sa'.split('_'),
    weekdaysParseExact : true,
    longDateFormat : {
        LT : 'HH:mm',
        LTS : 'HH:mm:ss',
        L : 'DD/MM/YYYY',
        LL : 'D MMMM YYYY',
        LLL : 'D MMMM YYYY HH:mm',
        LLLL : 'dddd D MMMM YYYY HH:mm'
    },
    calendar : {
        sameDay : '[Aujourdâ€™hui Ã ] LT',
        nextDay : '[Demain Ã ] LT',
        nextWeek : 'dddd [Ã ] LT',
        lastDay : '[Hier Ã ] LT',
        lastWeek : 'dddd [dernier Ã ] LT',
        sameElse : 'L'
    },
    relativeTime : {
        future : 'dans %s',
        past : 'il y a %s',
        s : 'quelques secondes',
        m : 'une minute',
        mm : '%d minutes',
        h : 'une heure',
        hh : '%d heures',
        d : 'un jour',
        dd : '%d jours',
        M : 'un mois',
        MM : '%d mois',
        y : 'un an',
        yy : '%d ans'
    },
    dayOfMonthOrdinalParse : /\d{1,2}(er|e)/,
    ordinal : function (number) {
        return number + (number === 1 ? 'er' : 'e');
    },
    meridiemParse : /PD|MD/,
    isPM : function (input) {
        return input.charAt(0) === 'M';
    },
    // In case the meridiem units are not separated around 12, then implement
    // this function (look at locale/id.js for an example).
    // meridiemHour : function (hour, meridiem) {
    //     return /* 0-23 hour, given meridiem token and hour 1-12 */ ;
    // },
    meridiem : function (hours, minutes, isLower) {
        return hours &lt; 12 ? 'PD' : 'MD';
    },
    week : {
        dow : 1, // Monday is the first day of the week.
        doy : 4  // The week that contains Jan 4th is the first week of the year.
    }
});
</code></pre>
<ol start="2">
<li>æ›´æ”¹æˆ–è·å–å±€éƒ¨è¯­è¨€ï¼Œä¼ å‚è¡¨ç¤ºæ›´æ”¹ï¼Œä¸ä¼ å‚æ•°è¡¨ç¤ºè·å–</li>
</ol>
<pre><code class="language-js">// 2.8.1 ç‰ˆæœ¬ä¹‹å‰
moment().locale(String);
// 2.8.1 ç‰ˆæœ¬ä¹‹å
moment().lang(String);
</code></pre>
<ol start="3">
<li><code>Node.js</code>ä¸­åŠ è½½è¯­è¨€<br>
å¦‚æœ<code>moment-root/locale/</code>ä¸­å·²ç»å­˜åœ¨è¯­è¨€æ–‡ä»¶ï¼Œåœ¨é¦–æ¬¡è°ƒç”¨moment.localeæ–¹æ³•æ—¶ï¼Œä¼ å…¥æŒ‡å®šè¯­è¨€çš„keyå³å¯åŠ è½½ã€‚</li>
</ol>
<pre><code class="language-js">moment.locale(String);
</code></pre>
<ol start="4">
<li>æµè§ˆå™¨ä¸­åŠ è½½è¯­è¨€</li>
</ol>
<pre><code class="language-js">&lt;script src=&quot;moment.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;locale/fr.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;locale/pt.js&quot;&gt;&lt;/script&gt;
&lt;script&gt;
  moment.locale('fr');  // Set the default/global locale
  // ...
&lt;/script&gt;
</code></pre>
<ol start="5">
<li>åˆ—å‡ºå½“å‰ä½¿ç”¨è¯­è¨€çš„æœˆä»½å’Œæ˜ŸæœŸ</li>
</ol>
<pre><code class="language-js">moment.months()
//[&quot;January&quot;, &quot;February&quot;, &quot;March&quot;, &quot;April&quot;, &quot;May&quot;, &quot;June&quot;, &quot;July&quot;, &quot;August&quot;, &quot;September&quot;, &quot;October&quot;, &quot;November&quot;, &quot;December&quot;]
moment.monthsShort()
//[&quot;Jan&quot;, &quot;Feb&quot;, &quot;Mar&quot;, &quot;Apr&quot;, &quot;May&quot;, &quot;Jun&quot;, &quot;Jul&quot;, &quot;Aug&quot;, &quot;Sep&quot;, &quot;Oct&quot;, &quot;Nov&quot;, &quot;Dec&quot;]
moment.weekdays()
//[&quot;Sunday&quot;, &quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot;, &quot;Saturday&quot;]
moment.weekdaysShort()
//[&quot;Sun&quot;, &quot;Mon&quot;, &quot;Tue&quot;, &quot;Wed&quot;, &quot;Thu&quot;, &quot;Fri&quot;, &quot;Sat&quot;]
moment.weekdaysMin()
//[&quot;Su&quot;, &quot;Mo&quot;, &quot;Tu&quot;, &quot;We&quot;, &quot;Th&quot;, &quot;Fr&quot;, &quot;Sa&quot;]
moment.weekdays(true, 2)
//&quot;Tuesday&quot;
moment.monthsShort('-MMM-');
//[&quot;Jan&quot;, &quot;Feb&quot;, &quot;Mar&quot;, &quot;Apr&quot;, &quot;May&quot;, &quot;Jun&quot;, &quot;Jul&quot;, &quot;Aug&quot;, &quot;Sep&quot;, &quot;Oct&quot;, &quot;Nov&quot;, &quot;Dec&quot;]
moment.monthsShort('-MMM-', 3);
//&quot;Apr&quot;
</code></pre>
<ol start="6">
<li>è·å–è¯­è¨€æ•°æ®<br>
é€šè¿‡<code>moment.localeData(key)</code>å‡½æ•°ï¼Œä½ å¯ä»¥æŸ¥çœ‹å½“å‰è½½å…¥è¯­è¨€çš„å„ç§å±æ€§ã€‚</li>
</ol>
<pre><code class="language-js">var currentLocaleData = moment.localeData();
var frLocaleData = moment.localeData('fr');
</code></pre>
<pre><code class="language-js">localeData.months(aMoment);  // æŒ‡å®šæ—¶é—´æœˆä»½çš„å…¨å
localeData.monthsShort(aMoment);  // æŒ‡å®šæ—¶é—´æœˆä»½çš„ç¼©å†™
localeData.monthsParse(longOrShortMonthString);  // è¿”å›è¾“å…¥æœˆä»½çš„åºå· (0 ã€œ 11) 
localeData.weekdays(aMoment);  // æŒ‡å®šæ—¶é—´æ˜ŸæœŸçš„å…¨å
localeData.weekdaysShort(aMoment);  // æŒ‡å®šæ—¶é—´æ˜ŸæœŸçš„ç¼©å†™
localeData.weekdaysMin(aMoment);  // æŒ‡å®šæ—¶é—´æ˜ŸæœŸçš„ç¼©å†™
localeData.weekdaysParse(minShortOrLongWeekdayString);  // è¿”å›è¾“å…¥æ˜ŸæœŸçš„åºå· (0 ã€œ 6) 
localeData.longDateFormat(dateFormat);  // è¿”å›æŒ‡å®šæ—¥æœŸæ—¶é—´ç¼©å†™æ ¼å¼çš„å…¨å†™ï¼Œå¦‚ï¼šLT, L, LLç­‰
localeData.isPM(amPmString);  // æ˜¯å¦ AMã€PM å­—ç¬¦ä¸²
localeData.meridiem(hours, minutes, isLower);  // è¿”å›æŒ‡å®šæ—¥æœŸå¤§å°å†™å½¢å¼çš„ am/pm å­—ç¬¦ä¸²
localeData.calendar(key, aMoment);  // è¿”å›æ—¥å†æ ¼å¼ã€‚Keyå¯ä»¥æ˜¯ï¼š'sameDay', 'nextDay', 'lastDay', 'nextWeek', 'prevWeek', 'sameElse'
localeData.relativeTime(number, withoutSuffix, key, isFuture);  // è¿”å›ä¸€ä¸ªç›¸å¯¹æ—¶é—´çš„å­—ç¬¦ä¸²ã€‚Keyå¯ä»¥æ˜¯ï¼š's', 'm', 'mm', 'h', 'hh', 'd', 'dd', 'M', 'MM', 'y', 'yy'
localeData.pastFuture(diff, relTime);  // è½¬æ¢å®é™…æ—¶é—´ relTime åˆ°è¿‡å»æˆ–æœªæ¥çš„ diffçš„å€¼
localeData.ordinal(number);  // è½¬æ¢æ•°å­—åˆ°åºæ•° 1 -&gt; 1st
localeData.preparse(str);  // è°ƒç”¨è½¬æ¢ä¹‹å‰çš„å­—ç¬¦ä¸²
localeData.postformat(str);  // è°ƒç”¨æ ¼å¼ä¹‹åçš„å­—ç¬¦ä¸²
localeData.week(aMoment);  // è¿”å›æŒ‡å®šæ—¶é—´å¹´ä¸­çš„å‘¨æ•°
localeData.invalidDate();  // è¿”å› 'Invalid date'
localeData.firstDayOfWeek();  // 0-6 (å‘¨æ—¥åˆ°å‘¨å…­)
localeData.firstDayOfYear();  // 0-15
</code></pre>
<h2 id="è‡ªå®šä¹‰">è‡ªå®šä¹‰</h2>
<p><code>Moment.js</code>å¯ä»¥éå¸¸ç®€å•çš„è¿›è¡Œè‡ªå®šä¹‰ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä½ éœ€è¦åˆ›å»ºä¸€ä¸ªæ‚¨è¦è¿›è¡Œè‡ªå®šä¹‰çš„è¯­è¨€çš„é…ç½®ã€‚</p>
<pre><code class="language-js">moment.locale('en-my-settings', {
    // é…ç½®.
});
</code></pre>
<p>å½“ç„¶ï¼Œä½ ä¹Ÿå¯å¯¹å·²ç»è½½å…¥çš„ç°æœ‰è¯­è¨€è¿›è¡Œä¿®æ”¹ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸­ä¼ å…¥nullè¡¨ç¤ºåˆ é™¤ä¹‹å‰å®šä¹‰çš„è¯­è¨€</p>
<pre><code class="language-js">moment.locale('fr'); // 'fr'
moment.locale('en'); // 'en'
moment.locale('fr', null);
moment.locale('fr'); // 'en'
</code></pre>
<p>æˆªæ­¢åˆ°2.12.0 ç‰ˆæœ¬ä½ å¯ä»¥ä½¿ç”¨ç»§æ‰¿çˆ¶ç±»å±æ€§ï¼š</p>
<pre><code class="language-js">moment.defineLocale('en-foo', {
  parentLocale: 'en',
  /* */
});
</code></pre>
<p>æˆªæ­¢åˆ°2.16.0 ä½ å®šä¹‰å­ç±»è¯­è¨€æ—¶ä½¿ç”¨çš„çˆ¶ç±»å¯ä»¥æ²¡æœ‰å®šä¹‰æˆ–åŠ è½½ï¼š</p>
<pre><code class="language-js">moment.defineLocale('fakeLocale', {parentLocale:'xyz'})
</code></pre>
<p>æˆªæ­¢åˆ°2.12.0 ï¼Œä½ å¯ä»¥æ›´æ–°å±æ€§ï¼š</p>
<pre><code class="language-js">moment.updateLocale('en', {
  /**/
});
</code></pre>
<p>å–æ¶ˆæ›´æ–°ä½¿ç”¨ï¼š</p>
<pre><code class="language-js">moment.updateLocale('en', null);
</code></pre>
<p>æœ‰å¦‚ä¸‹å±æ€§å¯ä»¥è¿›è¡Œå®šä¹‰æˆ–ä¿®æ”¹ï¼š</p>
<ul>
<li>months æœˆä»½å</li>
</ul>
<pre><code class="language-js">moment.updateLocale('en', {
    months : [
        &quot;January&quot;, &quot;February&quot;, &quot;March&quot;, &quot;April&quot;, &quot;May&quot;, &quot;June&quot;, &quot;July&quot;,
        &quot;August&quot;, &quot;September&quot;, &quot;October&quot;, &quot;November&quot;, &quot;December&quot;
    ]
});
moment.updateLocale('en', {
    months : function (momentToFormat, format) {
        // momentToFormatæ˜¯è¦æ ¼å¼åŒ–çš„æ—¶é—´
        // formatæ˜¯æ ¼å¼åŒ–å­—ç¬¦ä¸²
        if (/^MMMM/.test(format)) { // å¦‚æœæ ¼å¼åŒ–æ ¼å¼ä¸º 'MMMM'
            return nominative[momentToFormat.month()];
        } else {
            return subjective[momentToFormat.month()];
        }
    }
});
</code></pre>
<ul>
<li>monthsShort æœˆä»½åç¼©å†™</li>
</ul>
<pre><code class="language-js">moment.updateLocale('en', {
    monthsShort : [
        &quot;Jan&quot;, &quot;Feb&quot;, &quot;Mar&quot;, &quot;Apr&quot;, &quot;May&quot;, &quot;Jun&quot;,
        &quot;Jul&quot;, &quot;Aug&quot;, &quot;Sep&quot;, &quot;Oct&quot;, &quot;Nov&quot;, &quot;Dec&quot;
    ]
});
moment.updateLocale('en', {
    monthsShort : function (momentToFormat, format) {
        if (/^MMMM/.test(format)) {
            return nominative[momentToFormat.month()];
        } else {
            return subjective[momentToFormat.month()];
        }
    }
});
</code></pre>
<ul>
<li>weekdaysæ˜ŸæœŸå</li>
</ul>
<pre><code class="language-js">moment.updateLocale('en', {
    weekdays : [
        &quot;Sunday&quot;, &quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot;, &quot;Saturday&quot;
    ]
});
moment.updateLocale('en', {
    weekdays : function (momentToFormat, format) {
        return weekdays[momentToFormat.day()];
    }
});
</code></pre>
<ul>
<li>weekdaysShortæ˜ŸæœŸå (ç¼©å†™)</li>
</ul>
<pre><code class="language-js">moment.updateLocale('en', {
    weekdaysShort : [&quot;Sun&quot;, &quot;Mon&quot;, &quot;Tue&quot;, &quot;Wed&quot;, &quot;Thu&quot;, &quot;Fri&quot;, &quot;Sat&quot;]
});
moment.updateLocale('en', {
    weekdaysShort : function (momentToFormat, format) {
        return weekdaysShort[momentToFormat.day()];
    }
});
</code></pre>
<ul>
<li>weekdaysMinæ˜ŸæœŸå (æç®€ç¼©å†™)</li>
</ul>
<pre><code class="language-js">moment.updateLocale('en', {
    weekdaysMin : [&quot;Su&quot;, &quot;Mo&quot;, &quot;Tu&quot;, &quot;We&quot;, &quot;Th&quot;, &quot;Fr&quot;, &quot;Sa&quot;]
});
moment.updateLocale('en', {
    weekdaysMin : function (momentToFormat, format) {
        return weekdaysMin[momentToFormat.day()];
    }
});
</code></pre>
<ul>
<li>longDateFormaté•¿æ—¥æœŸæ ¼å¼</li>
</ul>
<pre><code class="language-js">moment.updateLocale('en', {
    longDateFormat : {
        LT: &quot;h:mm A&quot;,
        LTS: &quot;h:mm:ss A&quot;,
        L: &quot;MM/DD/YYYY&quot;,
        l: &quot;M/D/YYYY&quot;,
        LL: &quot;MMMM Do YYYY&quot;,
        ll: &quot;MMM D YYYY&quot;,
        LLL: &quot;MMMM Do YYYY LT&quot;,
        lll: &quot;MMM D YYYY LT&quot;,
        LLLL: &quot;dddd, MMMM Do YYYY LT&quot;,
        llll: &quot;ddd, MMM D YYYY LT&quot;
    }
});
</code></pre>
<ul>
<li>relativeTimeç›¸å¯¹æ—¶é—´</li>
</ul>
<pre><code class="language-js">moment.updateLocale('en', {
    relativeTime : {
        future: &quot;in %s&quot;,
        past:   &quot;%s ago&quot;,
        s  : 'a few seconds',
        ss : '%d seconds',
        m:  &quot;a minute&quot;,
        mm: &quot;%d minutes&quot;,
        h:  &quot;an hour&quot;,
        hh: &quot;%d hours&quot;,
        d:  &quot;a day&quot;,
        dd: &quot;%d days&quot;,
        M:  &quot;a month&quot;,
        MM: &quot;%d months&quot;,
        y:  &quot;a year&quot;,
        yy: &quot;%d years&quot;
    }
});
</code></pre>
<ul>
<li>meridiemä¸Šåˆä¸‹åˆ</li>
</ul>
<pre><code class="language-js">moment.updateLocale('zh-cn', {
    meridiem : function (hour, minute, isLowercase) {
        if (hour &lt; 9) {
            return &quot;æ—©ä¸Š&quot;;
        } else if (hour &lt; 11 &amp;&amp; minute &lt; 30) {
            return &quot;ä¸Šåˆ&quot;;
        } else if (hour &lt; 13 &amp;&amp; minute &lt; 30) {
            return &quot;ä¸­åˆ&quot;;
        } else if (hour &lt; 18) {
            return &quot;ä¸‹åˆ&quot;;
        } else {
            return &quot;æ™šä¸Š&quot;;
        }
    }
});
</code></pre>
<ul>
<li>meridiemParseä¸Šåˆä¸‹åˆè§£æ</li>
</ul>
<pre><code class="language-js">moment.updateLocale('en', {
    isPM : function (input) {
        return ((input + '').toLowerCase()[0] === 'p');
    }
});
</code></pre>
<ul>
<li>calendaræ—¥å†</li>
</ul>
<pre><code class="language-js">moment.locale('en', {
    calendar : {
        lastDay : '[Yesterday at] LT',
        sameDay : '[Today at] LT',
        nextDay : '[Tomorrow at] LT',
        lastWeek : '[last] dddd [at] LT',
        nextWeek : 'dddd [at] LT',
        sameElse : 'L'
    }
});
</code></pre>
<ul>
<li>calendarFormat æ—¥å†æ ¼å¼åŒ–</li>
</ul>
<pre><code class="language-js">moment.calendarFormat = function (myMoment, now) {
    var diff = myMoment.diff(now, 'days', true);
    var nextMonth = now.clone().add(1, 'month');

    var retVal =  diff &lt; -6 ? 'sameElse' :
        diff &lt; -1 ? 'lastWeek' :
        diff &lt; 0 ? 'lastDay' :
        diff &lt; 1 ? 'sameDay' :
        diff &lt; 2 ? 'nextDay' :
        diff &lt; 7 ? 'nextWeek' :
        // introduce thisMonth and nextMonth
        (myMoment.month() === now.month() &amp;&amp; myMoment.year() === now.year()) ? 'thisMonth' :
        (nextMonth.month() === myMoment.month() &amp;&amp; nextMonth.year() === myMoment.year()) ? 'nextMonth' : 'sameElse';
    return retVal;
};
</code></pre>
<ul>
<li>ordinalæ¯”è¾ƒ</li>
</ul>
<pre><code class="language-js">moment.updateLocale('en', {
    ordinal : function (number, token) {
        var b = number % 10;
        var output = (~~ (number % 100 / 10) === 1) ? 'th' :
            (b === 1) ? 'st' :
            (b === 2) ? 'nd' :
            (b === 3) ? 'rd' : 'th';
        return number + output;
    }
});
</code></pre>
<ul>
<li>relativeTimeThresholdç›¸å¯¹æ—¶é—´ä¸´ç•Œå€¼ï¼Œä¾‹å¦‚ï¼Œè¶…è¿‡45ç§’ä¼šè¢«è®¤ä¸ºæ˜¯ä¸€åˆ†é’Ÿï¼Œè¶…è¿‡22å°æ—¶ä¼šè¢«è®¤ä¸ºæ˜¯ä¸€å¤©</li>
</ul>
<pre><code class="language-js"> // è¿”å›å½“å‰ä½¿ç”¨çš„ä¸´ç•Œå€¼
  moment.relativeTimeThreshold('s');  // 45
  moment.relativeTimeThreshold('m');  // 45
  moment.relativeTimeThreshold('h');  // 22
  moment.relativeTimeThreshold('d');  // 26
  moment.relativeTimeThreshold('M');  // 11

  // è®¾ç½®æ–°çš„ä¸´ç•Œå€¼
  moment.relativeTimeThreshold('s', 40);
  moment.relativeTimeThreshold('m', 40);
  moment.relativeTimeThreshold('h', 20);
  moment.relativeTimeThreshold('d', 25);
  moment.relativeTimeThreshold('M', 10);
</code></pre>
<ul>
<li>relativeTimeRoundingç›¸å¯¹æ—¶é—´è¿‘ä¼¼æ±‚å€¼æ–¹æ³•</li>
</ul>
<pre><code class="language-js">var roundingDefault = moment.relativeTimeRounding();
// Round relative time evaluation down
moment.relativeTimeRounding(Math.floor);
moment.relativeTimeThreshold('s', 60);
moment.relativeTimeThreshold('m', 60);
moment.relativeTimeThreshold('h', 24);
moment.relativeTimeThreshold('d', 31);
moment.relativeTimeThreshold('M', 12);
var a = moment();
a.subtract({hours: 23, minutes: 59, seconds: 59});
a.toNow()  // == 'in 23 hours'  'Round down towards the nearest hour'
// back to default
moment.relativeTimeRounding(roundingDefault);
</code></pre>
<ul>
<li>moment.nowä¿®æ”¹é»˜è®¤è¿”å›çš„æ—¶é—´å€¼</li>
</ul>
<pre><code class="language-js">moment.now = function () { return +new Date(); } //é»˜è®¤çš„æ–¹æ³•ï¼Œä½ å¯ä»¥è‡ªå®šä¹‰è‡ªå·±çš„æ–¹æ³•
</code></pre>
<h2 id="æ—¶é—´æ®µ">æ—¶é—´æ®µ</h2>
<ol>
<li>åˆ›å»ºæ—¶é—´æ®µ</li>
</ol>
<pre><code class="language-js">moment.duration(Number, String);
moment.duration(Number);
moment.duration(Object);
moment.duration(String);
</code></pre>
<pre><code class="language-js">moment.duration(100); // 100 æ¯«ç§’
moment.duration(2, 'seconds'); //ä¹Ÿå¯ä»¥ä¼ å…¥ç®€å†™å½¢å¼s
moment.duration(2, 'minutes');//ä¹Ÿå¯ä»¥ä¼ å…¥ç®€å†™å½¢å¼m
moment.duration(2, 'hours');//ä¹Ÿå¯ä»¥ä¼ å…¥ç®€å†™å½¢å¼h
moment.duration(2, 'days');//ä¹Ÿå¯ä»¥ä¼ å…¥ç®€å†™å½¢å¼d
moment.duration(2, 'weeks');//ä¹Ÿå¯ä»¥ä¼ å…¥ç®€å†™å½¢å¼w
moment.duration(2, 'months');//ä¹Ÿå¯ä»¥ä¼ å…¥ç®€å†™å½¢å¼M
moment.duration(2, 'years');//ä¹Ÿå¯ä»¥ä¼ å…¥ç®€å†™å½¢å¼y
moment.duration({
    seconds: 2,
    minutes: 2,
    hours: 2,
    days: 2,
    weeks: 2,
    months: 2,
    years: 2
});
moment.duration('23:59:59'); //23å°æ—¶59åˆ†59ç§’
moment.duration('23:59:59.999');//23å°æ—¶59åˆ†59ç§’999æ¯«ç§’
moment.duration('7.23:59:59.999');//7å¤©23å°æ—¶59åˆ†59ç§’999æ¯«ç§’
</code></pre>
<ol start="2">
<li>å…‹éš†æ—¶é—´æ®µ</li>
</ol>
<pre><code class="language-js">moment.duration().clone();
</code></pre>
<ol start="3">
<li>äººæ€§åŒ–</li>
</ol>
<pre><code class="language-js">moment.duration().humanize();
</code></pre>
<ol start="4">
<li>å–å€¼</li>
</ol>
<pre><code class="language-js">moment.duration().milliseconds(); //æ¯«ç§’æ•°
moment.duration().asMilliseconds();//æ¯«ç§’çº§åˆ«çš„æ—¶é—´æ®µé•¿åº¦
moment.duration().seconds(); //ç§’æ•°
moment.duration().asSeconds();//ç§’çº§æ—¶é—´æ®µé•¿åº¦
moment.duration().minutes(); //åˆ†æ•°
moment.duration().asMinutes();//åˆ†é’Ÿçº§åˆ«æ—¶é—´æ®µé•¿åº¦
moment.duration().hours();
moment.duration().asHours();
moment.duration().days();
moment.duration().asDays();
moment.duration().months();
moment.duration().asMonths();
moment.duration().years();
moment.duration().asYears();
</code></pre>
<ol start="5">
<li>å¢åŠ æ—¶é—´ï¼Œå‡å°‘æ—¶é—´</li>
</ol>
<pre><code class="language-js">moment.duration().add(Number, String);
moment.duration().add(Number);
moment.duration().add(Duration);
moment.duration().add(Object);
moment.duration().subtract(Number, String);
moment.duration().subtract(Number);
moment.duration().subtract(Duration);
moment.duration().subtract(Object);
</code></pre>
<ol start="6">
<li>ä½¿ç”¨diff<br>
ä½ å¯ä»¥ä½¿ç”¨diffå’Œdurationè·å–ä¸¤ä¸ªæ—¶é—´ç‚¹ä¹‹é—´çš„æ—¶é—´æ®µ</li>
</ol>
<pre><code class="language-js">var duration = moment.duration(x.diff(y))
</code></pre>
<pre><code class="language-js">var x = new moment()
var y = new moment()
var duration = moment.duration(x.diff(y))
</code></pre>
<ol start="7">
<li>å•ä½è½¬æ¢</li>
</ol>
<pre><code class="language-js">moment.duration().as(String);
</code></pre>
<pre><code class="language-js">duration.as('hours');
duration.as('minutes');
duration.as('seconds');
duration.as('milliseconds');
</code></pre>
<ol start="8">
<li>ä½¿ç”¨getå–å€¼</li>
</ol>
<pre><code class="language-js">moment.duration().get(String);
</code></pre>
<pre><code class="language-js">duration.get('hours');
duration.get('minutes');
duration.get('seconds');
duration.get('milliseconds');
</code></pre>
<ol start="9">
<li>è½¬æ¢ä¸ºJSON</li>
</ol>
<pre><code class="language-js">moment.duration().toJSON();
</code></pre>
<p>å°†æ—¶é—´æ®µå¯¹è±¡åºåˆ—åŒ–æˆJSONæ—¶ï¼Œå…¶ä¼šæŒ‰ISO8601æ ‡å‡†çš„å­—ç¬¦ä¸²è¿›è¡Œè½¬æ¢ã€‚</p>
<pre><code class="language-js">JSON.stringify({
    postDuration : moment.duration(5, 'm')
}); // '{&quot;postDuration&quot;:&quot;PT5M&quot;}'
</code></pre>
<ol start="10">
<li>æ˜¯å¦æ—¶é—´æ®µ</li>
</ol>
<pre><code class="language-js">moment.isDuration(obj);
</code></pre>
<pre><code class="language-js">moment.isDuration() // false
moment.isDuration(new Date()) // false
moment.isDuration(moment()) // false
moment.isDuration(moment.duration()) // true
moment.isDuration(moment.duration(2, 'minutes')) // true
</code></pre>
<ol start="11">
<li>è½¬æ¢ä¸ºAs ISO 8601 å­—ç¬¦ä¸²</li>
</ol>
<pre><code class="language-js">moment.duration().toISOString();
</code></pre>
<ol start="12">
<li>æœ¬åœ°åŒ–</li>
</ol>
<pre><code class="language-js">moment.duration().locale();
moment.duration().locale(String);
</code></pre>
<pre><code class="language-js">moment.duration(1, &quot;minutes&quot;).locale(&quot;en&quot;).humanize(); // a minute
moment.duration(1, &quot;minutes&quot;).locale(&quot;fr&quot;).humanize(); // une minute
moment.duration(1, &quot;minutes&quot;).locale(&quot;es&quot;).humanize(); // un minuto
</code></pre>
<h2 id="å·¥å…·ç±»">å·¥å…·ç±»</h2>
<ol>
<li>æ ‡å‡†åŒ–å•ä½</li>
</ol>
<pre><code class="language-js">moment.normalizeUnits(String);
</code></pre>
<p>Momentä¸­çš„å¾ˆå¤šå‡½æ•°éƒ½å…è®¸è®¿é—®å™¨ä¼ å…¥å•ä½æšä¸¾çš„åˆ«åã€‚ä¾‹å¦‚ï¼Œä¸‹é¢æ‰€æœ‰çš„getéƒ½ç›¸ç­‰ã€‚</p>
<pre><code class="language-js">var m = moment();
m.get('y');
m.get('year');
m.get('years');
</code></pre>
<p>å¦‚æœä½ æ­£åœ¨å¯¹ç±»åº“è¿›è¡Œæ‰©å±•ï¼Œé€šè¿‡å¯¹MomentåŠŸèƒ½çš„è°ƒæ•´ï¼Œæ‚¨å¯ä»¥æ›´å®¹æ˜“çš„è®¿é—®å…¶ä¸­çš„ç‰¹æ€§</p>
<pre><code class="language-js">moment.normalizeUnits('y');      // 'year'
moment.normalizeUnits('Y');      // 'year'
moment.normalizeUnits('year');   // 'year'
moment.normalizeUnits('years');  // 'year'
moment.normalizeUnits('YeARS');  // 'year'
</code></pre>
<ol start="2">
<li>æ— æ•ˆå¯¹è±¡</li>
</ol>
<pre><code class="language-js">moment.invalid(Object);
</code></pre>
<p>ä½ å¯ä»¥åˆ›å»ºä½ è‡ªå·±çš„æ— æ•ˆMomentå¯¹è±¡ï¼Œåœ¨è¿™ä½ è‡ªå·±å®šä¹‰çš„è§£æå™¨ä¸­éå¸¸æœ‰ç”¨ã€‚</p>
<pre><code class="language-js">var m = moment.invalid();
m.isValid();                      // false
m.format();                       // 'Invalid date'
m.parsingFlags().userInvalidated; // true
</code></pre>
<p>invalidåŒæ ·æ¥å—å¯¹è±¡å½¢å¼çš„å‚æ•°ï¼Œå…¶ä¸­åŒ…å«å¯¹è§£ææ ‡è¯†çš„ä¸€äº›è®¾ç½®ã€‚è¿™ä¸ä¼šè®¾ç½®userInvalidatedè§£ææ ‡è¯†ï¼Œé™¤éé€šè¿‡å±æ€§æŒ‡å®šã€‚</p>
<pre><code class="language-js">var m = moment.invalid({invalidMonth: 'Actober'});
m.parsingFlags().invalidMonth; // 'Actober'
</code></pre>
<p>ä½ ä¸å¿…æŒ‡å®šMomentä¸­çš„è§£ææ ‡è¯†ï¼Œå› ä¸ºè¿™åœ¨Momentä¸­æ˜¯æ— æ•ˆçš„ï¼Œè½¬æ¢æ ‡è¯†ä¼šç”±<code>parsingFlags()</code>è¿”å›ã€‚</p>
 </p>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12 animate-box">
                        
                            <div class="next-post">
                                <div class="next">ä¸‹ä¸€ç¯‡</div>
                                <a href="https://huxinmin.github.io/post/mongoose-xue-xi-jiao-cheng/">
                                    <h3 class="post-title">
                                        mongooseå­¦ä¹ æ•™ç¨‹
                                    </h3>
                                </a>
                            </div>
                        
                    </div>
                </div>

                <div class="row">
    <div class="col-md-12 animate-box">
        
    </div>
</div>

            </div>

        </article>
    </div>
</div>

    

    <!-- è¿”å›é¡¶éƒ¨ -->
    <div class="back-to-top">
    
        <a href="#!" id="tool-toc" class="hidden-xs hidden-sm">
            <i class="fa fa-map"></i>
        </a>
        <br>
    
    <a href="#top" class="hidden-xs hidden-sm"><i class="fa fa-paper-plane"></i></a>
</div>

<div class="post-toc animated fadeInRight hidden-xs hidden-sm" style="display: none;">
    <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#%E5%9B%BD%E9%99%85%E5%8C%96">å›½é™…åŒ–</a></li>
<li><a href="#%E8%87%AA%E5%AE%9A%E4%B9%89">è‡ªå®šä¹‰</a></li>
<li><a href="#%E6%97%B6%E9%97%B4%E6%AE%B5">æ—¶é—´æ®µ</a></li>
<li><a href="#%E5%B7%A5%E5%85%B7%E7%B1%BB">å·¥å…·ç±»</a></li>
</ul>
</li>
</ul>

</div>


    
<footer id="fh5co-footer">
  <p>Powered by <a href="https://huxinmin.github.io" target="_blank">èƒ¡æ–°æ•çš„ä¸ªäººåšå®¢</a></p>
</footer>


    <!-- jQuery -->
<script src="https://huxinmin.github.io/media/scripts/jquery.min.js"></script>
<!-- img lazy load -->
<script src="https://huxinmin.github.io/media/scripts/jquery.lazyload.min.js"></script>
<!-- jQuery Easing -->
<script src="https://huxinmin.github.io/media/scripts/jquery.easing.1.3.js"></script>
<!-- Bootstrap -->
<script src="https://huxinmin.github.io/media/scripts/bootstrap.min.js"></script>
<!-- Waypoints -->
<script src="https://huxinmin.github.io/media/scripts/jquery.waypoints.min.js"></script>
<!-- Main JS -->
<script src="https://huxinmin.github.io/media/scripts/main.js"></script>
<!-- Md5 Min JS -->
<script src="https://huxinmin.github.io/media/scripts/md5.min.js"></script>
<!-- katex -->
<!--<script src="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.js"></script>-->
<!-- highlight -->
<script src="https://cdn.bootcss.com/highlight.js/9.15.8/highlight.min.js"></script>


<script type="application/javascript">
    // ä»£ç é«˜äº®
    hljs.initHighlightingOnLoad();

    // img æ‡’åŠ è½½
    $(function () {
        $("img.lazy").lazyload({
            effect: "fadeIn",  // æ‡’åŠ è½½åŠ¨ç”»
            threshold: 180  // åœ¨å›¾ç‰‡è·ç¦»å±å¹•180pxæ—¶æå‰è½½å…¥
        });
        // tooltip
        $('[data-toggle="tooltip"]').tooltip();

        // ç›®å½•
        $('#tool-toc').click(function () {
            $('.post-toc').toggle();
        });
    });

    
        var allImg = $("img");
        allImg.on("contextmenu", function () {
            return false;
        });
        allImg.on("dragstart", function () {
            return false;
        });
    
</script>




</body>
</html>
