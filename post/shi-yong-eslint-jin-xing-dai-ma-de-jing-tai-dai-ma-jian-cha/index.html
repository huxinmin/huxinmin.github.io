<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<title>胡新敏的个人博客</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<meta name="description" content="胡新敏的个人博客"/>
<meta name="keywords" content="胡新敏的个人博客"/>

<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
<link rel="shortcut icon" href="https://huxinmin.github.io/favicon.ico">

<link rel="stylesheet" href="https://huxinmin.github.io/styles/main.css">

<!-- Modernizr JS -->
<script src="https://huxinmin.github.io/media/scripts/modernizr-2.6.2.min.js"></script>
<!-- FOR IE9 below -->
<!--[if lt IE 9]>
<scripts src="https://huxinmin.github.io/media/scripts/respond.min.js"></scripts>
<![endif]-->

<!-- Comment -->



<!-- katex -->
<!--<link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet">-->

<link href="https://cdn.bootcss.com/font-awesome/5.11.2/css/all.min.css" rel="stylesheet">



</head>
<body>
    <div id="fh5co-offcanvas">
    <a href="#!" class="fh5co-close-offcanvas js-fh5co-close-offcanvas">
        <span><i class="icon-cross3"></i> <span>Close</span></span>
    </a>
    <div class="fh5co-bio">
        <figure>
            <img src="https://huxinmin.github.io/images/avatar.png" alt="胡新敏的个人博客"
                 class="img-responsive">
        </figure>
        <a href="https://huxinmin.github.io/post/about/"><h3 class="heading">ABOUT ME</h3></a>
        <h2>胡新敏的个人博客</h2>
        <p>胡新敏的个人博客</p>
        <ul class="fh5co-social">
            
                <li>
                    
                        <a href="https://github.com/huxinmin" target="_blank">
                            <i class="fab fa-github"></i>
                        </a>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                        <a href="https://www.zhihu.com/people/hu-xin-min-99" target="_blank">
                            <i class="fab fa-zhihu"></i>
                        </a>
                    
                </li>
            
                <li>
                    
                </li>
            
        </ul>
    </div>

    <div class="fh5co-menu">

        <!-- 标签 -->
        <div class="fh5co-box">
            <a href="https://huxinmin.github.io/tags/"><h3 class="heading">👉标签</h3></a>
            <ul>
                
                    <li><a href="https://huxinmin.github.io/tag/mSeB0wbbH/">linux</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/0CEgc5Nuc/">react</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/7tyyR9fOk/">ja</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/AzH6zVqFK/">js</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/UJq-iLfq6/">restful</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/r0zynGCMV/">http</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/GNbObqsVG/">json</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/dZU9srOJ4/">moment.js</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/wsD4ABEPz/">数据库</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/tq8jF2xcA/">mongoose</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/VL5yScL71/">mongodb</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/XRK7arMJO/">nodejs</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/DJMLUSVfi/">html5</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/oHlYLx_Tl/">websocket</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/8-tAS0eFO/">nginx</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/X3jlBk5nJ/">css</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/H8XsrzQ7e/">css3</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/J27JVlP2F/">文件上传</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/X3Z7s8kF_/">jquery</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/CrwH886ky/">ajax</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/s0bxFP3uF/">express</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/ZSDYSDwY2/">其他</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/4OX23_HC0/">jest</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/JavlGTiRY/">editorconfig</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/pTofQIx8N/">待办事宜</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/8u7cjaUBn/">随笔</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/knySerdH-/">git</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/NSyjPJZkv/">aws</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/pU8c2aJR5/">webassembly</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/UsaB01y9b/">sublime</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/oVWhBDgSF/">centos</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/JqHVZntTk/">putty</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/HOjS4qCUx/">npm</a></li>
                
            </ul>
        </div>
    </div>
</div>

<header id="fh5co-header">
    <div class="container-fluid">
        <div class="row">
            <a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle"><i></i></a>
            <ul class="fh5co-social">
                
                    <li>
                        <a href="/"
                        
                        >
                            首页
                        </a>
                    </li>
                
                    <li>
                        <a href="/archives"
                        
                        >
                            归档
                        </a>
                    </li>
                
                    <li>
                        <a href="/tags"
                        
                        >
                            标签
                        </a>
                    </li>
                
                    <li>
                        <a href="/post/about"
                        
                        >
                            关于
                        </a>
                    </li>
                
            </ul>
            <div class="col-lg-12 col-md-12 text-center">
                <h1 id="fh5co-logo">
                    <a href="https://huxinmin.github.io">胡新敏的个人博客 </a>
                </h1>
            </div>
        </div>
    </div>
</header>


    <!--  <a href="#" class="fh5co-post-prev"><span>👈 Prev</span></a>-->
    <!--  <a href="#" class="fh5co-post-next"><span>Next 👉</span></a>-->

    <!-- 等gridea出自定义页面功能再优化一下 -->
    
        <div class="container-fluid">
    <div class="row fh5co-post-entry single-entry">
        <article class="col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-8 col-sm-offset-2 col-xs-12 col-xs-offset-0">
            <figure class="animate-box">
                
            </figure>
            <span class="fh5co-meta animate-box">
                
            </span>
            <h2 class="fh5co-article-title animate-box">使用Eslint进行代码的静态代码检查</h2>
            <ol class="breadcrumb fh5co-meta fh5co-date animate-box" style="margin-bottom:0; background-color:#f8f9fa">
                <li>2020-04-20</li>
                <li>5792字</li>
                <li>24 min read</li>
            </ol>

            <div class="col-lg-12 col-lg-offset-0 col-md-12 col-md-offset-0 col-sm-12 col-sm-offset-0 col-xs-12 col-xs-offset-0 text-left content-article">
                <div class="row">
                    <div class="col-md-12 animate-box post-content">
                        <p> <h2 id="前言">前言</h2>
<p>在团队协作中，为避免低级 Bug、产出风格统一的代码，会预先制定编码规范。使用 Lint 工具和代码风格检测工具，则可以辅助编码规范执行，有效控制代码质量。EsLint帮助我们检查Javascript编程时的语法错误。</p>
<h2 id="eslint简介">Eslint简介</h2>
<p>EsLint是建立在Esprima(ECMAScript解析架构)的基础上的。Esprima支持ES5.1,本身也是用ECMAScript编写的，用于多用途分析。EsLint不但提供一些默认的规则（可扩展），也提供用户自定义规则来约束我们写的Javascript代码。</p>
<p>ESLint 是在 <code>ECMAScript/JavaScript</code> 代码中识别和报告模式匹配的工具，它的目标是保证代码的一致性和避免错误。在许多方面，它和 <code>JSLint</code>、<code>JSHint</code> 相似，除了少数的例外：</p>
<ul>
<li>ESLint 使用 <a href="https://github.com/eslint/espree" rel="nofollow" target="_blank">Espree</a> 解析 JavaScript。</li>
<li>ESLint 使用 AST(Abstract Syntax Tree抽象语法树) 去分析代码中的模式</li>
<li>ESLint 是完全插件化的。每一个规则都是一个插件并且你可以在运行时添加更多的规则。</li>
</ul>
<h2 id="安装">安装</h2>
<p>先决条件：Node.js (<code>&gt;=4.x</code>), npm version 2+。</p>
<ul>
<li>
<h4 id="本地安装">本地安装</h4>
</li>
</ul>
<p>如果你想让 ESLint 成为你项目构建系统的一部分，我们建议在本地安装。你可以使用 npm：</p>
<pre><code class="language-sh">npm install eslint --save-dev
./node_modules/.bin/eslint --init    //初始化配置文件
</code></pre>
<p>然后会出现一个选择，使用箭头键选择即可：</p>
<pre><code class="language-sh">? How would you like to configure ESLint? (Use arrow keys)
&gt; Answer questions about your style
  Use a popular style guide
  Inspect your JavaScript file(s)
</code></pre>
<p>成功后会在你的项目根目录出现一个配置文件<code>.eslintrc.js</code>或者<code>.eslintrc.json</code>等文件（取决于你的选择）。</p>
<pre><code class="language-sh">./node_modules/.bin/eslint yourfile.js  // 代码检查
</code></pre>
<p>使用本地安装的 ESLint 时，你使用的任何插件或可分享的配置也都必须在本地安装。</p>
<ul>
<li>
<h4 id="全局安装">全局安装</h4>
</li>
</ul>
<pre><code class="language-sh">npm install -g eslint
eslint --init
eslint yourfile.js
</code></pre>
<p>使用全局安装的 ESLint 时，你使用的任何插件或可分享的配置也都必须在全局安装。</p>
<h2 id="配置">配置</h2>
<p>Eslint的配置有4种方式可以进行设置：</p>
<ul>
<li>使用 JavaScript 注释把配置信息直接嵌入到一个代码源文件中</li>
<li>在 package.json 文件里的 <code>eslintConfig</code> 字段指定配置</li>
<li>配置一个独立的 <code>.eslintrc.*</code> 文件，可以是 JavaScript、JSON 或者 YAML 文件</li>
<li>在命令行运行时使用<code>-c</code>指定一个任意的配置文件</li>
</ul>
<p>如果同一个目录下有多个配置文件，ESLint 只会使用一个。优先级顺序如下：</p>
<ul>
<li><code>.eslintrc.js</code></li>
<li><code>.eslintrc.yaml</code></li>
<li><code>.eslintrc.yml</code></li>
<li><code>.eslintrc.json</code></li>
<li><code>.eslintrc</code></li>
<li><code>package.json</code></li>
</ul>
<p>如下是一个Javascript格式的配置文件简单例子<code>.eslintrc.js</code>:</p>
<pre><code class="language-js">module.exports = {
    &quot;env&quot;: {
        &quot;browser&quot;: true,
        &quot;node&quot;: true
    },
    &quot;plugins&quot;: [&quot;example&quot;],
    &quot;parser&quot;: &quot;esprima&quot;,
    &quot;globals&quot;: {
        &quot;var1&quot;: true,
        &quot;var2&quot;: false
    },
    &quot;parserOptions&quot;: {
        &quot;ecmaVersion&quot;: 6,
        &quot;sourceType&quot;: &quot;module&quot;,
        &quot;ecmaFeatures&quot;: {
            &quot;jsx&quot;: true
        }
    },
    &quot;extends&quot;: &quot;eslint:recommended&quot;,
    &quot;rules&quot;: {
        // enable additional rules
        &quot;indent&quot;: [&quot;error&quot;, 4]
    },
    &quot;settings&quot;: {
        &quot;sharedData&quot;: &quot;Hello&quot;
    },
    &quot;overrides&quot;: [
        {
          &quot;files&quot;: [ &quot;bin/*.js&quot;, &quot;lib/*.js&quot; ],
          &quot;excludedFiles&quot;: &quot;*.test.js&quot;,
          &quot;rules&quot;: {
            &quot;quotes&quot;: [ 2, &quot;single&quot; ]
          }
        }
    ]
}
</code></pre>
<h2 id="解析器配置">解析器配置</h2>
<p>ESLint 默认使用Espree作为其解析器，你可以在配置文件中使用<code>&quot;parser&quot;: &quot;esprima&quot;</code>指定一个不同的解析器，以下解析器与 ESLint 兼容：</p>
<ul>
<li><code>Esprima</code></li>
<li><code>Babel-ESLint</code> - 一个对Babel解析器的包装，使其能够与 ESLint 兼容。</li>
<li><code>typescript-eslint-parser</code>(实验) - 一个把 TypeScript 转换为 <code>ESTree</code> 兼容格式的解析器</li>
</ul>
<p>你也可以使用自定义的解析器，不过要注意，在使用自定义解析器时，为了让 ESLint 在处理非 ECMAScript 5 特性时正常工作，配置属性 <code>parserOptions</code> 仍然是必须的。解析器会被传入 <code>parserOptions</code>，但是不一定会使用它们来决定功能特性的开关。</p>
<p>解析器选项 <code>parserOptions</code> 可用的选项有：</p>
<ul>
<li><code>ecmaVersion</code> - 默认设置为3，5（默认）， 你可以使用 6、7、8 或 9 来指定你想要使用的 ECMAScript 版本。你也可以用使用年份命名的版本号指定为 2015（同 6），2016（同 7），或 2017（同 8）或 2018（同 9）</li>
<li><code>sourceType</code> - 设置为 &quot;script&quot; (默认) 或 &quot;module&quot;（如果你的代码是 ECMAScript 模块)。</li>
<li><code>ecmaFeatures</code> - 这是个对象，表示你想使用的额外的语言特性:
<ul>
<li><code>globalReturn</code> - 允许在全局作用域下使用 return 语句</li>
<li><code>impliedStrict</code> - 启用全局 strict mode (如果 ecmaVersion 是 5 或更高)</li>
<li><code>jsx</code> - 启用 JSX</li>
<li><code>experimentalObjectRestSpread</code> - 启用实验性的 <code>object rest/spread properties</code> 支持。</li>
</ul>
</li>
</ul>
<p>请注意，对 JSX 语法的支持不用于对 React 的支持。React 使用了一些特定的 ESLint 无法识别的 JSX 语法。如果你正在使用 React 并且想要 React 语义支持，我们推荐你使用 <a href="https://github.com/yannickcr/eslint-plugin-react" rel="nofollow" target="_blank">eslint-plugin-react。</a></p>
<p>同样的，支持 ES6 语法并不意味着同时支持新的 ES6 全局变量或类型（比如 Set 等新类型）。使用 <code>{ &quot;parserOptions&quot;: { &quot;ecmaVersion&quot;: 6 } }</code> 来启用 ES6 语法支持；要额外支持新的 ES6 全局变量，使用 <code>{ &quot;env&quot;:{ &quot;es6&quot;: true } }</code>(这个设置会同时自动启用 ES6 语法支持)。</p>
<h2 id="环境设置">环境设置</h2>
<p>一个环境定义了一组预定义的全局变量。可用的环境包括：</p>
<ul>
<li>browser - 浏览器环境中的全局变量。</li>
<li>node - Node.js 全局变量和 Node.js 作用域。</li>
<li>commonjs - CommonJS 全局变量和 CommonJS 作用域 (用于 Browserify/WebPack 打包的只在浏览器中运行的代码)。</li>
<li>es6 - 启用除了 modules 以外的所有 ECMAScript 6 特性（该选项会自动设置 ecmaVersion 解析器选项为 6）。</li>
<li>worker - Web Workers 全局变量。</li>
<li>amd - 将 <code>require()</code> 和 <code>define()</code> 定义为像 amd 一样的全局变量。</li>
<li>jquery - jQuery 全局变量。</li>
<li>...</li>
</ul>
<p>要在配置文件里指定环境，使用 env 关键字指定你想启用的环境，并设置它们为 true。例如，以下示例启用了 browser 和 Node.js 的环境：</p>
<pre><code class="language-js">{
    &quot;env&quot;: {
        &quot;browser&quot;: true,
        &quot;node&quot;: true
    }
}
</code></pre>
<p>如果你想在一个特定的插件中使用一种环境，确保提前在 plugins 数组里指定了插件名，然后在 env 配置中不带前缀的插件名后跟一个 / ，紧随着环境名。例如：</p>
<pre><code class="language-js">{
    &quot;plugins&quot;: [&quot;example&quot;],
    &quot;env&quot;: {
        &quot;example/custom&quot;: true
    }
}
</code></pre>
<h2 id="全局变量">全局变量</h2>
<p>当访问当前源文件内未定义的变量时，<code>no-undef</code> 规则将发出警告。如果你想在一个源文件里使用全局变量，推荐你在 ESLint 中定义这些全局变量，这样 ESLint 就不会发出警告了。</p>
<p>在配置文件里配置全局变量时，使用 globals 指出你要使用的全局变量。将变量设置为 true 将允许变量被重写，或 false 将不允许被重写。比如：</p>
<pre><code class="language-js">{
    &quot;globals&quot;: {
        &quot;var1&quot;: true,
        &quot;var2&quot;: false
    }
}
</code></pre>
<h2 id="插件">插件</h2>
<p>ESLint 支持使用第三方插件。在使用插件之前，你必须使用 npm 安装它。</p>
<p>在配置文件里配置插件时，可以使用 plugins 关键字来存放插件名字的列表。插件名称可以省略 <code>eslint-plugin-</code> 前缀。</p>
<pre><code class="language-js">{
    &quot;plugins&quot;: [
        &quot;plugin1&quot;,
        &quot;eslint-plugin-plugin2&quot;
    ]
}
</code></pre>
<p>还可以使用<code>extends</code>使用插件提供的规则：<br>
<code>extends</code> 属性值可以由以下组成：</p>
<ul>
<li><code>plugin</code>:</li>
<li>包名 (省略了前缀，比如，react)</li>
<li><code>/</code></li>
<li>配置名称 (比如 recommended)</li>
</ul>
<p>JSON 格式的一个配置文件的例子：</p>
<pre><code class="language-js">{
    &quot;plugins&quot;: [
        &quot;react&quot;
    ],
    &quot;extends&quot;: [
        &quot;eslint:recommended&quot;,
        &quot;plugin:react/recommended&quot;
    ],
    &quot;rules&quot;: {
       &quot;no-set-state&quot;: &quot;off&quot;
    }
}
</code></pre>
<h2 id="规则配置">规则配置</h2>
<p>ESLint 附带有大量的规则。你可以使用注释或配置文件修改你项目中要使用的规则。要改变一个规则设置，你必须将规则 ID 设置为下列值之一：</p>
<ul>
<li>&quot;off&quot; 或 0 - 关闭规则</li>
<li>&quot;warn&quot; 或 1 - 开启规则，使用警告级别的错误：warn (不会导致程序退出)</li>
<li>&quot;error&quot; 或 2 - 开启规则，使用错误级别的错误：error (当被触发的时候，程序会退出)</li>
</ul>
<p>例如：</p>
<pre><code class="language-js">{
    &quot;rules&quot;: {
        &quot;eqeqeq&quot;: &quot;off&quot;,
        &quot;curly&quot;: &quot;error&quot;,
        &quot;quotes&quot;: [&quot;error&quot;, &quot;double&quot;]
    }
}
</code></pre>
<h2 id="使用注释临时禁止规则">使用注释临时禁止规则</h2>
<p>可以在你的文件中使用以下格式的块注释来临时禁止规则出现警告：</p>
<pre><code class="language-sh">/* eslint-disable */
alert('foo');
/* eslint-enable */
</code></pre>
<p>你也可以对指定的规则启用或禁用警告:</p>
<pre><code class="language-sh">/* eslint-disable no-alert, no-console */
alert('foo');
console.log('bar');
/* eslint-enable no-alert, no-console */
</code></pre>
<p>如果在整个文件范围内禁止规则出现警告，将 /* eslint-disable */ 块注释放在文件顶部：</p>
<pre><code class="language-sh">/* eslint-disable */
alert('foo');
</code></pre>
<p>可以在你的文件中使用以下格式的行注释或块注释在某一特定的行上禁用所有规则：</p>
<pre><code class="language-sh">alert('foo'); // eslint-disable-line
// eslint-disable-next-line
alert('foo');
/* eslint-disable-next-line */
alert('foo');
alert('foo'); /* eslint-disable-line */
</code></pre>
<p>在某一特定的行上禁用某个指定的规则或多个规则：</p>
<pre><code class="language-sh">alert('foo'); // eslint-disable-line no-alert, quotes, semi
// eslint-disable-next-line no-alert, quotes, semi
alert('foo');
alert('foo'); /* eslint-disable-line no-alert */
/* eslint-disable-next-line no-alert */
alert('foo');
</code></pre>
<p>上面的所有方法同样适用于插件规则。例如，禁止 <code>eslint-plugin-example</code> 的 <code>rule-name</code> 规则，把插件名（example）和规则名（rule-name）结合为 <code>example/rule-name</code>：</p>
<pre><code class="language-sh">foo(); // eslint-disable-line example/rule-name
foo(); /* eslint-disable-line example/rule-name */
</code></pre>
<h2 id="共享设置">共享设置</h2>
<p>ESLint 支持在配置文件添加共享设置。你可以添加 settings 对象到配置文件，它将提供给每一个将被执行的规则。如果你想添加的自定义规则而且使它们可以访问到相同的信息，这将会很有用，并且很容易配置。</p>
<pre><code class="language-js">{
    &quot;settings&quot;: {
        &quot;sharedData&quot;: &quot;Hello&quot;
    }
}
</code></pre>
<h2 id="层叠配置">层叠配置</h2>
<p>例如，假如你有以下结构：</p>
<pre><code class="language-sh">your-project
├── .eslintrc
├── lib
│ └── source.js
└─┬ tests
  ├── .eslintrc
  └── test.js
</code></pre>
<p>层叠配置使用离要检测的文件最近的 <code>.eslintrc</code>文件作为最高优先级，然后才是父目录里的配置文件，等等。</p>
<p>当你在这个项目中允许 ESLint 时，<code>lib/</code> 下面的所有文件将使用项目根目录里的 <code>.eslintrc</code> 文件作为它的配置文件。当 ESLint 遍历到 test/ 目录，your-project/.eslintrc 之外，它还会用到 <code>your-project/tests/.eslintrc</code>。所以 your-project/tests/test.js 是基于它的目录层次结构中的两个<code>.eslintrc</code> 文件的组合，并且离的最近的一个优先。通过这种方式，你可以有项目级 ESLint 设置，也有覆盖特定目录的 ESLint 设置。</p>
<p>默认情况下，ESLint 会在所有父级目录里寻找配置文件，一直到根目录。如果你想要你所有项目都遵循一个特定的约定时，这将会很有用，但有时候会导致意想不到的结果。为了将 ESLint 限制到一个特定的项目，在你项目根目录下的 package.json 文件或者 .eslintrc.* 文件里的 eslintConfig 字段下设置 &quot;root&quot;: true。ESLint 一旦发现配置文件中有 &quot;root&quot;: true，它就会停止在父级目录中寻找。</p>
<pre><code class="language-js">{
    &quot;root&quot;: true
}
</code></pre>
<p>完整的配置层次结构，从最高优先级最低的优先级，如下:</p>
<ol>
<li>行内配置</li>
</ol>
<ul>
<li><code>/*eslint-disable*/</code> 和 <code>/*eslint-enable*/</code></li>
<li><code>/*global*/</code></li>
<li><code>/*eslint*/</code></li>
<li><code>/*eslint-env*/</code></li>
</ul>
<ol start="2">
<li>命令行选项（或 CLIEngine 等价物）：</li>
</ol>
<ul>
<li><code>--global</code></li>
<li><code>--rule</code></li>
<li><code>--env</code></li>
<li><code>-c</code>、<code>--config</code></li>
</ul>
<ol start="3">
<li>项目级配置：</li>
</ol>
<ul>
<li>与要检测的文件在同一目录下的 <code>.eslintrc.*</code> 或 <code>package.json</code> 文件</li>
<li>继续在父级目录寻找 <code>.eslintrc</code> 或 <code>package.json</code>文件，直到根目录（包括根目录）或直到发现一个有<code>&quot;root&quot;: true</code>的配置。</li>
</ul>
<ol start="4">
<li>如果不是（1）到（3）中的任何一种情况，退回到 <code>~/.eslintrc</code> 中自定义的默认配置。</li>
</ol>
<h2 id="规则继承">规则继承</h2>
<p>一个配置文件可以被基础配置中的已启用的规则继承。</p>
<p>extends 属性值可以是：</p>
<ul>
<li>在配置中指定的一个字符串</li>
<li>字符串数组：每个配置继承它前面的配置</li>
</ul>
<p>也可以使用<code>extends</code>继承插件的配置或者一个或多个配置文件：</p>
<pre><code class="language-js">{
    &quot;plugins&quot;: [
        &quot;react&quot;
    ],
    &quot;extends&quot;: [
        &quot;eslint:recommended&quot;,
        &quot;plugin:react/recommended&quot;
    ],
    &quot;rules&quot;: {
       &quot;no-set-state&quot;: &quot;off&quot;
    }
}
</code></pre>
<pre><code class="language-js">{
    &quot;extends&quot;: [
        &quot;./node_modules/coding-standard/eslintDefaults.js&quot;,
        &quot;./node_modules/coding-standard/.eslintrc-es6&quot;,
        &quot;./node_modules/coding-standard/.eslintrc-jsx&quot;
    ],
    &quot;rules&quot;: {
        &quot;eqeqeq&quot;: &quot;warn&quot;
    }
}
</code></pre>
<h2 id="eslintrecommended"><code>eslint:recommended</code></h2>
<p>值为 &quot;eslint:recommended&quot; 的 extends 属性启用一系列核心规则，这些规则报告一些常见问题，在 规则页面 中被标记为<code>√</code>  。这个推荐的子集只能在 ESLint 主要版本进行更新。</p>
<p>如果你的配置集成了推荐的规则：在你升级到 ESLint 新的主版本之后，在你使用命令行的 <code>--fix</code> 选项之前，检查一下报告的问题，这样你就知道一个新的可修复的推荐的规则将更改代码。</p>
<pre><code class="language-js">module.exports = {
    &quot;extends&quot;: &quot;eslint:recommended&quot;,
    &quot;rules&quot;: {
        // enable additional rules
        &quot;indent&quot;: [&quot;error&quot;, 4],
        &quot;linebreak-style&quot;: [&quot;error&quot;, &quot;unix&quot;],
        &quot;quotes&quot;: [&quot;error&quot;, &quot;double&quot;],
        &quot;semi&quot;: [&quot;error&quot;, &quot;always&quot;],

        // override default options for rules from base configurations
        &quot;comma-dangle&quot;: [&quot;error&quot;, &quot;always&quot;],
        &quot;no-cond-assign&quot;: [&quot;error&quot;, &quot;always&quot;],

        // disable rules from base configurations
        &quot;no-console&quot;: &quot;off&quot;,
    }
}
</code></pre>
<h2 id="使用overrides更精细的配置">使用<code>overrides</code>更精细的配置</h2>
<p>有时，你可能需要更精细的配置，比如，如果同一个目录下的文件需要有不同的配置。因此，你可以在配置中使用 overrides 键，它只适用于匹配特定的 glob 模式的文件，使用你在命令行上传递的格式 (e.g., app/**/*.test.js)。</p>
<ul>
<li>Glob 模式覆盖只能在配置文件 (.eslintrc.* 或 package.json) 中进行配置。</li>
<li>模式应用于相对于配置文件的目录的文件路径。 比如，如果你的配置文件的路径为 <code>/Users/john/workspace/any-project/.eslintrc.js</code> 而你要检测的路径为 <code>/Users/john/workspace/any-project/lib/util.js</code>，那么你在 <code>.eslintrc.js</code> 中提供的模式是相对于 <code>lib/util.js</code> 来执行的.</li>
<li>在相同的配置文件中，Glob 模式覆盖比其他常规配置具有更高的优先级。 同一个配置中的多个覆盖将按顺序被应用。也就是说，配置文件中的最后一个覆盖会有最高优先级。</li>
<li>一个 glob 特定的配置几乎与 ESLint 的其他配置相同。覆盖块可以包含常规配置中的除了 extends、overrides 和 root 之外的其他任何有效配置选项，</li>
<li>可以在单个覆盖块中提供多个 glob 模式。一个文件必须匹配至少一个配置中提供的模式。</li>
<li>覆盖块也可以指定从匹配中排除的模式。如果一个文件匹配了任何一个排除模式，该配置将不再被应用。</li>
</ul>
<pre><code class="language-js">{
  &quot;rules&quot;: {
    &quot;quotes&quot;: [ 2, &quot;double&quot; ]
  },

  &quot;overrides&quot;: [
    {
      &quot;files&quot;: [ &quot;bin/*.js&quot;, &quot;lib/*.js&quot; ],
      &quot;excludedFiles&quot;: &quot;*.test.js&quot;,
      &quot;rules&quot;: {
        &quot;quotes&quot;: [ 2, &quot;single&quot; ]
      }
    }
  ]
}
</code></pre>
<h2 id="忽略不要检查的文件">忽略不要检查的文件</h2>
<p>你可以通过在项目根目录创建一个 .eslintignore 文件告诉 ESLint 去忽略特定的文件和目录。<code>.eslintignore</code> 文件是一个纯文本文件，其中的每一行都是一个 glob 模式表明哪些路径应该忽略检测。例如，以下将忽略所有的 JavaScript 文件：</p>
<pre><code class="language-js">**/*.js
</code></pre>
<p>当 ESLint 运行时，在确定哪些文件要检测之前，它会在当前工作目录中查找一个 .eslintignore 文件。如果发现了这个文件，当遍历目录时，将会应用这些偏好设置。一次只有一个 .eslintignore 文件会被使用，所以，不是当前工作目录下的 .eslintignore 文件将不会被用到。</p>
<p>Globs 匹配使用 node-ignore，所以大量可用的特性有：</p>
<ul>
<li>以 <code>#</code> 开头的行被当作注释，不影响忽略模式。</li>
<li>路径是相对于 <code>.eslintignore</code> 的位置或当前工作目录。这也会影响通过 <code>--ignore-pattern</code>传递的路径。</li>
<li>忽略模式同<a href="https://git-scm.com/docs/gitignore" rel="nofollow" target="_blank"> <code>.gitignore</code> 规范</a></li>
<li>以 <code>!</code> 开头的行是否定模式，它将会重新包含一个之前被忽略的模式。</li>
</ul>
<p>除了 <code>.eslintignore</code> 文件中的模式，ESLint总是忽略 <code>/node_modules/*</code> 和 <code>/bower_components/*</code> 中的文件。</p>
<p>例如：把下面 .eslintignore 文件放到当前工作目录里，将忽略项目根目录下的 <code>node_modules</code>，<code>bower_components</code> 以及 <code>build/</code> 目录下除了 <code>build/index.js</code> 的所有文件。</p>
<pre><code class="language-js"># /node_modules/* and /bower_components/* in the project root are ignored by default
# Ignore built files except build/index.js
build/*
!build/index.js
</code></pre>
<p>如果相比于当前工作目录下 <code>.eslintignore</code> 文件，你更想使用一个不同的文件，你可以在命令行使用 --ignore-path 选项指定它。例如，你可以使用 <code>.jshintignore</code> 文件，因为它有相同的格式：</p>
<pre><code class="language-js">eslint --ignore-path .jshintignore file.js
</code></pre>
<p>任何文件只要满足标准忽略文件格式都可以用。记住，指定 --ignore-path 意味着任何现有的 .eslintignore 文件将不被使用。请注意，<code>.eslintignore</code> 中的匹配规则比 .gitignore 中的更严格。</p>
<p>如果没有发现 <code>.eslintignore</code> 文件，也没有指定替代文件，ESLint 将在 <code>package.json</code> 文件中查找 <code>eslintIgnore</code> 键，来检查要忽略的文件。</p>
<pre><code class="language-js">{
  &quot;name&quot;: &quot;mypackage&quot;,
  &quot;version&quot;: &quot;0.0.1&quot;,
  &quot;eslintConfig&quot;: {
      &quot;env&quot;: {
          &quot;browser&quot;: true,
          &quot;node&quot;: true
      }
  },
  &quot;eslintIgnore&quot;: [&quot;hello.js&quot;, &quot;world.js&quot;]
}
</code></pre>
<h2 id="常见规则">常见规则</h2>
<table>
<thead>
<tr>
<th>规则</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>no-compare-neg-zero</code></td>
<td>禁止与 -0 进行比较</td>
</tr>
<tr>
<td><code>no-cond-assign</code></td>
<td>禁止条件表达式中出现赋值操作符</td>
</tr>
<tr>
<td><code>no-console</code></td>
<td>禁用 console</td>
</tr>
<tr>
<td><code>no-constant-condition</code></td>
<td>禁止在条件中使用常量表达式</td>
</tr>
<tr>
<td><code>no-control-regex</code></td>
<td>禁止在正则表达式中使用控制字符</td>
</tr>
<tr>
<td><code>no-debugger</code></td>
<td>禁用 debugger</td>
</tr>
<tr>
<td><code>no-dupe-args</code></td>
<td>禁止 function 定义中出现重名参数</td>
</tr>
<tr>
<td><code>no-dupe-keys</code></td>
<td>禁止对象字面量中出现重复的 key</td>
</tr>
<tr>
<td><code>no-duplicate-case</code></td>
<td>禁止出现重复的 case 标签</td>
</tr>
<tr>
<td><code>no-empty</code></td>
<td>禁止出现空语句块</td>
</tr>
<tr>
<td><code>no-empty-character-class</code></td>
<td>禁止在正则表达式中使用空字符集</td>
</tr>
<tr>
<td><code>no-ex-assign</code></td>
<td>禁止对 catch 子句的参数重新赋值</td>
</tr>
<tr>
<td><code>no-extra-boolean-cast</code></td>
<td>禁止不必要的布尔转换</td>
</tr>
<tr>
<td><code>no-extra-semi</code></td>
<td>禁止不必要的分号</td>
</tr>
<tr>
<td><code>no-func-assign</code></td>
<td>禁止对 function 声明重新赋值</td>
</tr>
<tr>
<td><code>no-inner-declarations</code></td>
<td>禁止在嵌套的块中出现变量声明或 function 声明</td>
</tr>
<tr>
<td><code>no-invalid-regexp</code></td>
<td>禁止 RegExp 构造函数中存在无效的正则表达式字符串</td>
</tr>
<tr>
<td><code>no-irregular-whitespace</code></td>
<td>禁止在字符串和注释之外不规则的空白</td>
</tr>
<tr>
<td><code>no-obj-calls</code></td>
<td>禁止把全局对象作为函数调用</td>
</tr>
<tr>
<td><code>no-regex-spaces</code></td>
<td>禁止正则表达式字面量中出现多个空格</td>
</tr>
<tr>
<td><code>no-sparse-arrays</code></td>
<td>禁用稀疏数组</td>
</tr>
<tr>
<td><code>no-unexpected-multiline</code></td>
<td>禁止出现令人困惑的多行表达式</td>
</tr>
<tr>
<td><code>no-unreachable</code></td>
<td>禁止在return、throw、continue 和 break 语句之后出现不可达代码</td>
</tr>
<tr>
<td><code>no-unsafe-finally</code></td>
<td>禁止在 finally 语句块中出现控制流语句</td>
</tr>
<tr>
<td><code>no-unsafe-negation</code></td>
<td>禁止对关系运算符的左操作数使用否定操作符</td>
</tr>
<tr>
<td><code>use-isnan</code></td>
<td>要求使用 <code>isNaN()</code> 检查 NaN</td>
</tr>
<tr>
<td><code>valid-typeof</code></td>
<td>强制 typeof 表达式与有效的字符串进行比较</td>
</tr>
<tr>
<td><code>no-case-declarations</code></td>
<td>不允许在 case 子句中使用词法声明</td>
</tr>
<tr>
<td><code>no-empty-pattern</code></td>
<td>禁止使用空解构模式</td>
</tr>
<tr>
<td><code>no-fallthrough</code></td>
<td>禁止 case 语句落空</td>
</tr>
<tr>
<td><code>no-global-assign</code></td>
<td>禁止对原生对象或只读的全局对象进行赋值</td>
</tr>
<tr>
<td><code>no-octal</code></td>
<td>禁用八进制字面量</td>
</tr>
<tr>
<td><code>no-redeclare</code></td>
<td>禁止多次声明同一变量</td>
</tr>
<tr>
<td><code>no-self-assign</code></td>
<td>禁止自我赋值</td>
</tr>
<tr>
<td><code>no-unused-labels</code></td>
<td>禁用出现未使用过的标</td>
</tr>
<tr>
<td><code>no-useless-escape</code></td>
<td>禁用不必要的转义字符</td>
</tr>
<tr>
<td><code>no-delete-var</code></td>
<td>禁止删除变量</td>
</tr>
<tr>
<td><code>no-undef</code></td>
<td>禁用未声明的变量，除非它们在 <code>/*global */</code> 注释中被提到</td>
</tr>
<tr>
<td><code>no-unused-vars</code></td>
<td>禁止出现未使用过的变量</td>
</tr>
<tr>
<td><code>no-mixed-spaces-and-tabs</code></td>
<td>禁止空格和 tab 的混合缩进</td>
</tr>
<tr>
<td><code>constructor-super</code></td>
<td>要求在构造函数中有 <code>super()</code> 的调用</td>
</tr>
<tr>
<td><code>no-class-assign</code></td>
<td>禁止修改类声明的变量</td>
</tr>
<tr>
<td><code>no-const-assign</code></td>
<td>禁止修改 const 声明的变量</td>
</tr>
<tr>
<td><code>no-dupe-class-members</code></td>
<td>禁止类成员中出现重复的名称</td>
</tr>
<tr>
<td><code>no-new-symbol</code></td>
<td>禁止 Symbolnew 操作符和 new 一起使用</td>
</tr>
<tr>
<td><code>no-this-before-super</code></td>
<td>禁止在构造函数中，在调用 <code>super()</code> 之前使用 this 或 super</td>
</tr>
<tr>
<td><code>require-yield</code></td>
<td>要求 generator 函数内有 yield</td>
</tr>
</tbody>
</table>
<h2 id="命令行">命令行</h2>
<p>安装：</p>
<pre><code class="language-sh">npm i -g eslint
</code></pre>
<p>这句命令从 npm 仓库安装了 ESLint CLI。使用以下格式运行 ESLint：</p>
<pre><code class="language-sh">eslint [options] [file|dir|glob]*
</code></pre>
<p>命令行工具有几个选项，你可以通过运行 eslint -h 查看所有选项。</p>
<pre><code class="language-sh">Basic configuration:
  --no-eslintrc                  禁用 .eslintrc.* 和 package.json 文件中的配置
  -c, --config path::String      该选项允许你为 ESLint 指定一个额外的配置文件。
  --env [String]                 指定环境
  --ext [String]                 查找 JavaScript 文件时要使用的文件扩展名(只有在参数为目录时，才生效。如果你使用 glob 模式或文件名，--ext 将被忽略)
  --global [String]              定义了全局变量，这样它们就不会被 no-undef 规则标记为未定义了
  --parser String                指定一个解析器
  --parser-options Object        解析器选项

Specifying rules and plugins:
  --rulesdir [path::String]      指定另一个加载规则文件的目录
  --plugin [String]              插件
  --rule Object                  使用的规则

Fixing problems:
  --fix                          指示 ESLint 试图修复尽可能多的问题。修复只针对实际文件本身，而且剩下的未修复的问题才会输出
  --fix-dry-run                  该选项与 --fix 有相同的效果，唯一一点不同是，修复不会保存到文件系统中。这也是从 stdin（当使用 --stdin 标记时）修复代码成为可能。

Ignoring files:
  --ignore-path path::String     指定一个文件作为 .eslintignore
  --no-ignore                    禁止排除 .eslintignore、--ignore-path 和 --ignore-pattern 文件中指定的文件。
  --ignore-pattern [String]      要忽略的文件模式(除了那些在 .eslintignore 的)

Using stdin:
  --stdin                        告诉 ESLint 从 STDIN 而不是从文件中读取和检测源码
  --stdin-filename String        这个选项允许你指定一个文件名去处理 STDIN

Handling warnings:
  --quiet                        禁止报告警告
  --max-warnings Int             指定一个警告的阈值，当你的项目中有太多违反规则的警告时，这个阈值被用来强制 ESLint 以错误状态退出

Output:
  -o, --output-file path::String  将报告写到一个文件
  -f, --format String            指定了控制台的输出格式
  --color, --no-color           强制启用/禁用彩色输出

Inline configuration comments:
  --no-inline-config             这个选项会阻止像 /*eslint-disable*/ 或者 /*global foo*/ 这样的内联注释起作用
  --report-unused-disable-directives  当像 // eslint-disable-line 这样的指令注释所在行没有任何错误报告时，该选项会导致 ESLint 报告这样的指令注释。通过清理旧的不再适用 eslint-disable 注释，对防止将来意外的被抑制的错误很有用

Caching:
  --cache                        存储处理过的文件的信息以便只对有改变的文件进行操作。缓存默认被存储在 .eslintcache。启用这个选项可以显著改善 ESLint 的运行时间，确保只对有改变的文件进行检测。
  --cache-file path::String      缓存文件的路径
  --cache-location path::String  缓存文件的路径

Miscellaneous:
  --init                         配置初始化向导
  --debug                        这个选项将调试信息输出到控制台
  -h, --help                     这个选项会输出帮助菜单，显示所有可用的选项
  -v, --version                  这个选项在控制台输出当前 ESlint 的版本
  --print-config path::String    这个选项输出传递的文件使用的配置
</code></pre>
<h2 id="集成">集成</h2>
<ul>
<li><a href="http://www.sublimelinter.com/en/stable/" rel="nofollow" target="_blank">sublimeText</a></li>
<li><a href="https://www.npmjs.com/package/gulp-eslint" rel="nofollow" target="_blank">Gulp</a></li>
<li><a href="https://www.npmjs.com/package/eslint-loader" rel="nofollow" target="_blank">webpack</a></li>
</ul>
<h2 id="参考文档">参考文档</h2>
<ul>
<li><a href="http://eslint.cn" rel="nofollow" target="_blank">Eslint中文官网</a></li>
<li><a href="http://eslint.cn/docs/rules/" rel="nofollow" target="_blank">Eslint 规则</a></li>
<li><a href="http://eslint.cn/docs/user-guide/command-line-interface" rel="nofollow" target="_blank">Eslint 命令行</a></li>
<li><a href="http://eslint.cn/docs/user-guide/configuring" rel="nofollow" target="_blank">Eslint 配置</a></li>
<li><a href="http://eslint.cn/docs/user-guide/integrations" rel="nofollow" target="_blank">Eslint集成</a></li>
</ul>
 </p>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12 animate-box">
                        
                            <div class="next-post">
                                <div class="next">下一篇</div>
                                <a href="https://huxinmin.github.io/post/c-yu-yan-ji-ben-shu-ju-lei-xing-xiang-jie/">
                                    <h3 class="post-title">
                                        C语言基本数据类型详解
                                    </h3>
                                </a>
                            </div>
                        
                    </div>
                </div>

                <div class="row">
    <div class="col-md-12 animate-box">
        
    </div>
</div>

            </div>

        </article>
    </div>
</div>

    

    <!-- 返回顶部 -->
    <div class="back-to-top">
    
        <a href="#!" id="tool-toc" class="hidden-xs hidden-sm">
            <i class="fa fa-map"></i>
        </a>
        <br>
    
    <a href="#top" class="hidden-xs hidden-sm"><i class="fa fa-paper-plane"></i></a>
</div>

<div class="post-toc animated fadeInRight hidden-xs hidden-sm" style="display: none;">
    <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#%E5%89%8D%E8%A8%80">前言</a></li>
<li><a href="#eslint%E7%AE%80%E4%BB%8B">Eslint简介</a></li>
<li><a href="#%E5%AE%89%E8%A3%85">安装</a><br>
*
<ul>
<li><a href="#%E6%9C%AC%E5%9C%B0%E5%AE%89%E8%A3%85">本地安装</a></li>
<li><a href="#%E5%85%A8%E5%B1%80%E5%AE%89%E8%A3%85">全局安装</a></li>
</ul>
</li>
<li><a href="#%E9%85%8D%E7%BD%AE">配置</a></li>
<li><a href="#%E8%A7%A3%E6%9E%90%E5%99%A8%E9%85%8D%E7%BD%AE">解析器配置</a></li>
<li><a href="#%E7%8E%AF%E5%A2%83%E8%AE%BE%E7%BD%AE">环境设置</a></li>
<li><a href="#%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F">全局变量</a></li>
<li><a href="#%E6%8F%92%E4%BB%B6">插件</a></li>
<li><a href="#%E8%A7%84%E5%88%99%E9%85%8D%E7%BD%AE">规则配置</a></li>
<li><a href="#%E4%BD%BF%E7%94%A8%E6%B3%A8%E9%87%8A%E4%B8%B4%E6%97%B6%E7%A6%81%E6%AD%A2%E8%A7%84%E5%88%99">使用注释临时禁止规则</a></li>
<li><a href="#%E5%85%B1%E4%BA%AB%E8%AE%BE%E7%BD%AE">共享设置</a></li>
<li><a href="#%E5%B1%82%E5%8F%A0%E9%85%8D%E7%BD%AE">层叠配置</a></li>
<li><a href="#%E8%A7%84%E5%88%99%E7%BB%A7%E6%89%BF">规则继承</a></li>
<li><a href="#eslintrecommended"><code>eslint:recommended</code></a></li>
<li><a href="#%E4%BD%BF%E7%94%A8overrides%E6%9B%B4%E7%B2%BE%E7%BB%86%E7%9A%84%E9%85%8D%E7%BD%AE">使用<code>overrides</code>更精细的配置</a></li>
<li><a href="#%E5%BF%BD%E7%95%A5%E4%B8%8D%E8%A6%81%E6%A3%80%E6%9F%A5%E7%9A%84%E6%96%87%E4%BB%B6">忽略不要检查的文件</a></li>
<li><a href="#%E5%B8%B8%E8%A7%81%E8%A7%84%E5%88%99">常见规则</a></li>
<li><a href="#%E5%91%BD%E4%BB%A4%E8%A1%8C">命令行</a></li>
<li><a href="#%E9%9B%86%E6%88%90">集成</a></li>
<li><a href="#%E5%8F%82%E8%80%83%E6%96%87%E6%A1%A3">参考文档</a></li>
</ul>
</li>
</ul>

</div>


    
<footer id="fh5co-footer">
  <p>Powered by <a href="https://huxinmin.github.io" target="_blank">胡新敏的个人博客</a></p>
</footer>


    <!-- jQuery -->
<script src="https://huxinmin.github.io/media/scripts/jquery.min.js"></script>
<!-- img lazy load -->
<script src="https://huxinmin.github.io/media/scripts/jquery.lazyload.min.js"></script>
<!-- jQuery Easing -->
<script src="https://huxinmin.github.io/media/scripts/jquery.easing.1.3.js"></script>
<!-- Bootstrap -->
<script src="https://huxinmin.github.io/media/scripts/bootstrap.min.js"></script>
<!-- Waypoints -->
<script src="https://huxinmin.github.io/media/scripts/jquery.waypoints.min.js"></script>
<!-- Main JS -->
<script src="https://huxinmin.github.io/media/scripts/main.js"></script>
<!-- Md5 Min JS -->
<script src="https://huxinmin.github.io/media/scripts/md5.min.js"></script>
<!-- katex -->
<!--<script src="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.js"></script>-->
<!-- highlight -->
<script src="https://cdn.bootcss.com/highlight.js/9.15.8/highlight.min.js"></script>


<script type="application/javascript">
    // 代码高亮
    hljs.initHighlightingOnLoad();

    // img 懒加载
    $(function () {
        $("img.lazy").lazyload({
            effect: "fadeIn",  // 懒加载动画
            threshold: 180  // 在图片距离屏幕180px时提前载入
        });
        // tooltip
        $('[data-toggle="tooltip"]').tooltip();

        // 目录
        $('#tool-toc').click(function () {
            $('.post-toc').toggle();
        });
    });

    
        var allImg = $("img");
        allImg.on("contextmenu", function () {
            return false;
        });
        allImg.on("dragstart", function () {
            return false;
        });
    
</script>




</body>
</html>
