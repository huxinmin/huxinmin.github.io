<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<title>èƒ¡æ–°æ•çš„ä¸ªäººåšå®¢</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<meta name="description" content="èƒ¡æ–°æ•çš„ä¸ªäººåšå®¢"/>
<meta name="keywords" content="èƒ¡æ–°æ•çš„ä¸ªäººåšå®¢"/>

<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
<link rel="shortcut icon" href="https://huxinmin.github.io/favicon.ico">

<link rel="stylesheet" href="https://huxinmin.github.io/styles/main.css">

<!-- Modernizr JS -->
<script src="https://huxinmin.github.io/media/scripts/modernizr-2.6.2.min.js"></script>
<!-- FOR IE9 below -->
<!--[if lt IE 9]>
<scripts src="https://huxinmin.github.io/media/scripts/respond.min.js"></scripts>
<![endif]-->

<!-- Comment -->



<!-- katex -->
<!--<link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet">-->

<link href="https://cdn.bootcss.com/font-awesome/5.11.2/css/all.min.css" rel="stylesheet">



</head>
<body>
    <div id="fh5co-offcanvas">
    <a href="#!" class="fh5co-close-offcanvas js-fh5co-close-offcanvas">
        <span><i class="icon-cross3"></i> <span>Close</span></span>
    </a>
    <div class="fh5co-bio">
        <figure>
            <img src="https://huxinmin.github.io/images/avatar.png" alt="èƒ¡æ–°æ•çš„ä¸ªäººåšå®¢"
                 class="img-responsive">
        </figure>
        <a href="https://huxinmin.github.io/post/about/"><h3 class="heading">ABOUT ME</h3></a>
        <h2>èƒ¡æ–°æ•çš„ä¸ªäººåšå®¢</h2>
        <p>èƒ¡æ–°æ•çš„ä¸ªäººåšå®¢</p>
        <ul class="fh5co-social">
            
                <li>
                    
                        <a href="https://github.com/huxinmin" target="_blank">
                            <i class="fab fa-github"></i>
                        </a>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                        <a href="https://www.zhihu.com/people/hu-xin-min-99" target="_blank">
                            <i class="fab fa-zhihu"></i>
                        </a>
                    
                </li>
            
                <li>
                    
                </li>
            
        </ul>
    </div>

    <div class="fh5co-menu">

        <!-- æ ‡ç­¾ -->
        <div class="fh5co-box">
            <a href="https://huxinmin.github.io/tags/"><h3 class="heading">ğŸ‘‰æ ‡ç­¾</h3></a>
            <ul>
                
                    <li><a href="https://huxinmin.github.io/tag/mSeB0wbbH/">linux</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/0CEgc5Nuc/">react</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/7tyyR9fOk/">ja</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/AzH6zVqFK/">js</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/UJq-iLfq6/">restful</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/r0zynGCMV/">http</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/GNbObqsVG/">json</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/dZU9srOJ4/">moment.js</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/wsD4ABEPz/">æ•°æ®åº“</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/tq8jF2xcA/">mongoose</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/VL5yScL71/">mongodb</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/XRK7arMJO/">nodejs</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/DJMLUSVfi/">html5</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/oHlYLx_Tl/">websocket</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/8-tAS0eFO/">nginx</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/X3jlBk5nJ/">css</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/H8XsrzQ7e/">css3</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/J27JVlP2F/">æ–‡ä»¶ä¸Šä¼ </a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/X3Z7s8kF_/">jquery</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/CrwH886ky/">ajax</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/s0bxFP3uF/">express</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/ZSDYSDwY2/">å…¶ä»–</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/4OX23_HC0/">jest</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/JavlGTiRY/">editorconfig</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/pTofQIx8N/">å¾…åŠäº‹å®œ</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/8u7cjaUBn/">éšç¬”</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/knySerdH-/">git</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/NSyjPJZkv/">aws</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/pU8c2aJR5/">webassembly</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/UsaB01y9b/">sublime</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/oVWhBDgSF/">centos</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/JqHVZntTk/">putty</a></li>
                
                    <li><a href="https://huxinmin.github.io/tag/HOjS4qCUx/">npm</a></li>
                
            </ul>
        </div>
    </div>
</div>

<header id="fh5co-header">
    <div class="container-fluid">
        <div class="row">
            <a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle"><i></i></a>
            <ul class="fh5co-social">
                
                    <li>
                        <a href="/"
                        
                        >
                            é¦–é¡µ
                        </a>
                    </li>
                
                    <li>
                        <a href="/archives"
                        
                        >
                            å½’æ¡£
                        </a>
                    </li>
                
                    <li>
                        <a href="/tags"
                        
                        >
                            æ ‡ç­¾
                        </a>
                    </li>
                
                    <li>
                        <a href="/post/about"
                        
                        >
                            å…³äº
                        </a>
                    </li>
                
            </ul>
            <div class="col-lg-12 col-md-12 text-center">
                <h1 id="fh5co-logo">
                    <a href="https://huxinmin.github.io">èƒ¡æ–°æ•çš„ä¸ªäººåšå®¢ </a>
                </h1>
            </div>
        </div>
    </div>
</header>


    <!--  <a href="#" class="fh5co-post-prev"><span>ğŸ‘ˆ Prev</span></a>-->
    <!--  <a href="#" class="fh5co-post-next"><span>Next ğŸ‘‰</span></a>-->

    <!-- ç­‰grideaå‡ºè‡ªå®šä¹‰é¡µé¢åŠŸèƒ½å†ä¼˜åŒ–ä¸€ä¸‹ -->
    
        <div class="container-fluid">
    <div class="row fh5co-post-entry single-entry">
        <article class="col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-8 col-sm-offset-2 col-xs-12 col-xs-offset-0">
            <figure class="animate-box">
                
            </figure>
            <span class="fh5co-meta animate-box">
                
            </span>
            <h2 class="fh5co-article-title animate-box">Rxjså­¦ä¹ ä¹‹å…¥é—¨å’Œåº”ç”¨</h2>
            <ol class="breadcrumb fh5co-meta fh5co-date animate-box" style="margin-bottom:0; background-color:#f8f9fa">
                <li>2020-04-20</li>
                <li>4962å­—</li>
                <li>20 min read</li>
            </ol>

            <div class="col-lg-12 col-lg-offset-0 col-md-12 col-md-offset-0 col-sm-12 col-sm-offset-0 col-xs-12 col-xs-offset-0 text-left content-article">
                <div class="row">
                    <div class="col-md-12 animate-box post-content">
                        <p> <h2 id="rxjsç®€ä»‹">Rxjsç®€ä»‹</h2>
<p>RxJSæ˜¯ReactiveXç¼–ç¨‹ç†å¿µçš„JavaScriptç‰ˆæœ¬ã€‚ReactiveXæ¥è‡ªå¾®è½¯ï¼Œå®ƒæ˜¯ä¸€ç§é’ˆå¯¹å¼‚æ­¥æ•°æ®æµçš„ç¼–ç¨‹ã€‚ç®€å•æ¥è¯´ï¼Œå®ƒå°†ä¸€åˆ‡æ•°æ®ï¼ŒåŒ…æ‹¬HTTPè¯·æ±‚ï¼ŒDOMäº‹ä»¶æˆ–è€…æ™®é€šæ•°æ®ç­‰åŒ…è£…æˆæµçš„å½¢å¼ï¼Œç„¶åç”¨å¼ºå¤§ä¸°å¯Œçš„æ“ä½œç¬¦å¯¹æµè¿›è¡Œå¤„ç†ï¼Œä½¿ä½ èƒ½ä»¥åŒæ­¥ç¼–ç¨‹çš„æ–¹å¼å¤„ç†å¼‚æ­¥æ•°æ®ï¼Œå¹¶ç»„åˆä¸åŒçš„æ“ä½œç¬¦æ¥è½»æ¾ä¼˜é›…çš„å®ç°ä½ æ‰€éœ€è¦çš„åŠŸèƒ½ã€‚</p>
<h2 id="reactivexç®€ä»‹">Reactivexç®€ä»‹</h2>
<p>ReactiveX æ˜¯ä¸€ä¸ªåŸºäºä¸€ç³»åˆ—å¯è§‚å¯Ÿçš„å¼‚æ­¥å’ŒåŸºç¡€äº‹ä»¶ç¼–ç¨‹ç»„æˆçš„ä¸€ä¸ªåº“ã€‚</p>
<p>å®ƒç»§æ‰¿è§‚å¯Ÿè€…æ¨¡å¼ï¼Œæ”¯æŒåºåˆ—æ•°æ®æˆ–è€…äº‹ä»¶ã€‚æ›´é«˜çº§çš„ç”¨æ³•å…è®¸ä½ å°†å¦‚ä¸‹çš„ä¸€äº›æŠ½è±¡æ¦‚å¿µæ“ä½œä¸€èµ·è”åˆä½¿ç”¨ï¼Œæ¯”å¦‚ä½çº¿ç¨‹ï¼ŒåŒæ­¥ï¼Œçº¿ç¨‹å®‰å…¨ï¼Œæ•°æ®å¹¶å‘ï¼Œéé˜»å¡I/Oæµã€‚</p>
<p>å®ƒé€šå¸¸è¢«ç§°ä¸ºâ€œå‡½æ•°å“åº”å¼ç¼–ç¨‹â€ï¼Œè¿™æ˜¯ç”¨è¯ä¸å½“çš„ã€‚ReactiveX å¯ä»¥æ˜¯å‡½æ•°å¼çš„ï¼Œå¯ä»¥æ˜¯å“åº”å¼çš„ï¼Œä½†æ˜¯å’Œâ€œå‡½æ•°å“åº”å¼ç¼–ç¨‹â€æ˜¯ä¸åŒçš„æ¦‚è§ˆã€‚ä¸€ä¸ªä¸»è¦çš„ä¸åŒç‚¹æ˜¯â€œå‡½æ•°å“åº”å¼ç¼–ç¨‹â€æ˜¯å¯¹éšç€æ—¶é—´ä¸åœå˜åŒ–çš„å€¼è¿›è¡Œæ“ä½œçš„ï¼Œè€ŒReactiveXæ˜¯å¯¹è¶…æ—¶æäº¤äº§ç”Ÿçš„ç¦»æ•£å€¼ä¸Šã€‚</p>
<h2 id="why-rxjs">Why Rxjs</h2>
<p>æˆ‘ä»¬å¯èƒ½ä¼šé—®è‡ªå·±ï¼Œä¸ºä»€ä¹ˆä½¿ç”¨RxJS?ä¸æ˜¯æœ‰Promiseå—ï¼Ÿæ²¡é”™ï¼ŒPromiseå¯¹äºåªæœŸæœ›å•å€¼è¿”å›çš„å¼‚æ­¥è¯·æ±‚ï¼ˆæ¯”å¦‚ï¼šXMLHttpRequestï¼‰æ˜¯ä¸€ä¸ªå¥½çš„è§£å†³æ–¹æ¡ˆã€‚ä½†Reactive Extensions for JavaScriptå¯¹Promises, callbacks , Web Workers, Web Socketsè¿›è¡Œäº†ç»Ÿä¸€ä¼˜åŒ–. ä¸€æ—¦æˆ‘ä»¬ç»Ÿä¸€ä¼˜åŒ–è¿™ä¸€äº›æ¦‚å¿µåï¼Œæˆ‘ä»¬å°†èƒ½æ›´å¥½çš„è¿›è¡Œå¼€å‘ã€‚</p>
<p>ä¸ºäº†æ›´å¥½çš„ç†è§£ï¼Œè¯·çœ‹ä¸‹é¢çš„è¿™ä¸ªä¾‹å­ï¼š<br>
æœç´¢æ˜¯å‰ç«¯å¼€å‘ä¸­å¾ˆå¸¸è§çš„åŠŸèƒ½ï¼Œä¸€èˆ¬æ˜¯ç›‘å¬<code>&lt;input /&gt;</code>çš„keyupäº‹ä»¶ï¼Œç„¶åå°†å†…å®¹å‘é€åˆ°åå°ï¼Œå¹¶å±•ç¤ºåå°è¿”å›çš„æ•°æ®ã€‚</p>
<pre><code class="language-html">&lt;input id=&quot;text&quot;&gt;&lt;/input&gt;
&lt;script&gt;
    var text = document.querySelector('#text');
    text.addEventListener('keyup', (e) =&gt;{
        var searchText = e.target.value;
        // å‘é€è¾“å…¥å†…å®¹åˆ°åå°
        $.ajax({
            url: `/search/${searchText}`,
            success: data =&gt; {
              // æ‹¿åˆ°åå°è¿”å›æ•°æ®ï¼Œå¹¶å±•ç¤ºæœç´¢ç»“æœ
              render(data);
            }
        });
    });
&lt;/script&gt;
</code></pre>
<p>ä¸Šé¢ä»£ç å®ç°æˆ‘ä»¬è¦çš„åŠŸèƒ½ï¼Œä½†å­˜åœ¨ä¸¤ä¸ªè¾ƒå¤§çš„é—®é¢˜ï¼š</p>
<ul>
<li>
<h4 id="å¤šä½™çš„è¯·æ±‚">å¤šä½™çš„è¯·æ±‚</h4>
</li>
</ul>
<p>å½“æƒ³æœç´¢â€œçˆ±è¿ªç”Ÿâ€æ—¶ï¼Œè¾“å…¥æ¡†å¯èƒ½ä¼šå­˜åœ¨ä¸‰ç§æƒ…å†µï¼Œâ€œçˆ±â€ã€â€œçˆ±è¿ªâ€ã€â€œçˆ±è¿ªç”Ÿâ€ã€‚è€Œè¿™ä¸‰ç§æƒ…å†µå°†ä¼šå‘èµ· 3 æ¬¡è¯·æ±‚ï¼Œå­˜åœ¨ 2 æ¬¡å¤šä½™çš„è¯·æ±‚ã€‚</p>
<ul>
<li>
<h4 id="å·²æ— ç”¨çš„è¯·æ±‚ä»ç„¶æ‰§è¡Œ">å·²æ— ç”¨çš„è¯·æ±‚ä»ç„¶æ‰§è¡Œ</h4>
</li>
</ul>
<p>ä¸€å¼€å§‹æœäº†â€œçˆ±è¿ªç”Ÿâ€ï¼Œç„¶åé©¬ä¸Šæ”¹æœç´¢â€œè¾¾å°”æ–‡â€ã€‚ç»“æœåå°è¿”å›äº†â€œçˆ±è¿ªç”Ÿâ€çš„æœç´¢ç»“æœï¼Œæ‰§è¡Œæ¸²æŸ“é€»è¾‘åç»“æœæ¡†å±•ç¤ºäº†â€œçˆ±è¿ªç”Ÿâ€çš„ç»“æœï¼Œè€Œä¸æ˜¯å½“å‰æ­£åœ¨æœç´¢çš„â€œè¾¾å°”æ–‡â€ï¼Œè¿™æ˜¯ä¸æ­£ç¡®çš„ã€‚</p>
<p>å‡å°‘å¤šä½™è¯·æ±‚æ•°ï¼Œå¯ä»¥ç”¨ <code>setTimeout</code> å‡½æ•°èŠ‚æµçš„æ–¹å¼æ¥å¤„ç†ï¼Œæ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-html">&lt;input id=&quot;text&quot;&gt;&lt;/input&gt;
&lt;script&gt;
    var text = document.querySelector('#text'),
        timer = null;
    text.addEventListener('keyup', (e) =&gt;{
        // åœ¨ 250 æ¯«ç§’å†…è¿›è¡Œå…¶ä»–è¾“å…¥ï¼Œåˆ™æ¸…é™¤ä¸Šä¸€ä¸ªå®šæ—¶å™¨
        clearTimeout(timer);
        // å®šæ—¶å™¨ï¼Œåœ¨ 250 æ¯«ç§’åè§¦å‘
        timer = setTimeout(() =&gt; {
            console.log('å‘èµ·è¯·æ±‚..');
        },250)
    })
&lt;/script&gt;
</code></pre>
<p>å·²æ— ç”¨çš„è¯·æ±‚ä»ç„¶æ‰§è¡Œ çš„è§£å†³æ–¹å¼ï¼Œå¯ä»¥åœ¨å‘èµ·è¯·æ±‚å‰å£°æ˜ä¸€ä¸ªå½“å‰æœç´¢çš„çŠ¶æ€å˜é‡ï¼Œåå°å°†æœç´¢çš„å†…å®¹åŠç»“æœä¸€èµ·è¿”å›ï¼Œå‰ç«¯åˆ¤æ–­è¿”å›æ•°æ®ä¸å½“å‰æœç´¢æ˜¯å¦ä¸€è‡´ï¼Œä¸€è‡´æ‰èµ°åˆ°æ¸²æŸ“é€»è¾‘ã€‚æœ€ç»ˆä»£ç ä¸ºï¼š</p>
<pre><code class="language-html">&lt;input id=&quot;text&quot;&gt;&lt;/input&gt;
&lt;script&gt;
    var text = document.querySelector('#text'),
        timer = null,
        currentSearch = '';

    text.addEventListener('keyup', (e) =&gt;{
        clearTimeout(timer)
        timer = setTimeout(() =&gt; {
            // å£°æ˜ä¸€ä¸ªå½“å‰æ‰€æœçš„çŠ¶æ€å˜é‡
            currentSearch ï¼ 'ä¹¦'; 

            var searchText = e.target.value;
            $.ajax({
                url: `/search/${searchText}`,
                success: data =&gt; {
                    // åˆ¤æ–­åå°è¿”å›çš„æ ‡å¿—ä¸æˆ‘ä»¬å­˜çš„å½“å‰æœç´¢å˜é‡æ˜¯å¦ä¸€è‡´
                    if (data.search === currentSearch) {
                        // æ¸²æŸ“å±•ç¤º
                        render(data);
                    } else {
                        // ..
                    }
                }           
            });
        },250)
    })
&lt;/script&gt;
</code></pre>
<p>ä¸Šé¢ä»£ç åŸºæœ¬æ»¡è¶³éœ€æ±‚ï¼Œä½†ä»£ç å¼€å§‹æ˜¾å¾—ä¹±ç³Ÿç³Ÿã€‚æˆ‘ä»¬æ¥ä½¿ç”¨RxJSå®ç°ä¸Šé¢ä»£ç åŠŸèƒ½ï¼Œå¦‚ä¸‹:</p>
<pre><code class="language-js">var text = document.querySelector('#text');
var inputStream = Rx.Observable.fromEvent(text, 'keyup')
                    .debounceTime(250)
                    .pluck('target', 'value')
                    .switchMap(url =&gt; Http.get(url))
                    .subscribe(data =&gt; render(data));
</code></pre>
<p>RxJSèƒ½ç®€åŒ–ä½ çš„ä»£ç ï¼Œå®ƒå°†ä¸æµæœ‰å…³çš„å†…éƒ¨çŠ¶æ€å°è£…åœ¨æµä¸­ï¼Œè€Œä¸éœ€è¦åœ¨æµå¤–å®šä¹‰å„ç§å˜é‡æ¥ä»¥ä¸€ç§ä¸Šå¸è§†è§’æ§åˆ¶æµç¨‹ã€‚Rxçš„ç¼–ç¨‹æ–¹å¼ä½¿ä½ çš„ä¸šåŠ¡é€»è¾‘æµç¨‹æ¸…æ™°ï¼Œæ˜“ç»´æŠ¤ï¼Œå¹¶æ˜¾è‘—å‡å°‘å‡ºbugçš„æ¦‚ç‡ã€‚</p>
<h2 id="å®‰è£…æ–¹æ³•">å®‰è£…æ–¹æ³•</h2>
<ul>
<li>
<h4 id="é€šè¿‡-npm-å®‰è£…-es6-ç‰ˆæœ¬">é€šè¿‡ npm å®‰è£… ES6 ç‰ˆæœ¬</h4>
</li>
</ul>
<pre><code class="language-js">npm install rxjs
</code></pre>
<p>å¯¼å…¥æ•´ä¸ªæ ¸å¿ƒåŠŸèƒ½é›†ï¼š</p>
<pre><code class="language-js">import Rx from 'rxjs/Rx';
Rx.Observable.of(1,2,3)
</code></pre>
<p>é€šè¿‡æ‰“è¡¥ä¸çš„æ–¹å¼åªå¯¼å…¥æ‰€éœ€è¦çš„(è¿™å¯¹äºå‡å°‘ bundling çš„ä½“ç§¯æ˜¯ååˆ†æœ‰ç”¨çš„)ï¼š</p>
<pre><code class="language-js">import { Observable} from 'rxjs/Observable';
import 'rxjs/add/observable/of';
import 'rxjs/add/operator/map';
Observable.of(1,2,3).map(x =&gt; x + '!!!'); // ç­‰ç­‰
</code></pre>
<p>åªå¯¼å…¥éœ€è¦çš„å¹¶ä¸”ä½¿ç”¨è¢«æè®®çš„ç»‘å®šæ“ä½œç¬¦ï¼š<br>
æ³¨æ„ï¼šè¿™ä¸ªé¢å¤–çš„é¢„å‘éœ€è¦ç¼–è¯‘å™¨æ”¯æŒå¹¶ä¸”æ­¤è¯­æ³•å¯èƒ½ä¼šåœ¨æ²¡æœ‰ä»»ä½•é€šçŸ¥çš„æƒ…å†µä¸‹å®Œå…¨ä» TC39 æ’¤å›ï¼è¦ä½¿ç”¨çš„è¯éœ€è¦ä½ è‡ªå·±æ¥æ‰¿æ‹…é£é™©ã€‚</p>
<pre><code class="language-js">import { Observable } from 'rxjs/Observable';
import { of } from 'rxjs/observable/of';
import { map } from 'rxjs/operator/map';
Observable::of(1,2,3)::map(x =&gt; x + '!!!'); // ç­‰ç­‰
</code></pre>
<ul>
<li>
<h4 id="é€šè¿‡-npm-å®‰è£…-commonjs-ç‰ˆæœ¬">é€šè¿‡ npm å®‰è£… CommonJS ç‰ˆæœ¬</h4>
</li>
</ul>
<pre><code class="language-js">npm install rxjs
</code></pre>
<p>å¯¼å…¥æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½:</p>
<pre><code class="language-js">var Rx = require('rxjs/Rx');
Rx.Observable.of(1,2,3); // ç­‰ç­‰
</code></pre>
<p>é€šè¿‡æ‰“è¡¥ä¸çš„æ–¹å¼åªå¯¼å…¥æ‰€éœ€è¦çš„(è¿™å¯¹äºå‡å°‘ bundling çš„ä½“ç§¯æ˜¯ååˆ†æœ‰ç”¨çš„)ï¼š</p>
<pre><code class="language-js">var Observable = require('rxjs/Observable').Observable;
// ä½¿ç”¨é€‚åˆçš„æ–¹æ³•åœ¨ Observable ä¸Šæ‰“è¡¥ä¸
require('rxjs/add/observable/of');
require('rxjs/add/operator/map');
Observable.of(1,2,3).map(function (x) { return x + '!!!'; }); // ç­‰ç­‰
</code></pre>
<p>å¯¼å…¥æ“ä½œç¬¦å¹¶æ‰‹åŠ¨åœ°ä½¿ç”¨å®ƒä»¬(è¿™å¯¹äºå‡å°‘ bundling çš„ä½“ç§¯ä¹Ÿååˆ†æœ‰ç”¨)ï¼š</p>
<pre><code class="language-js">var of = require('rxjs/observable/of').of;
var map = require('rxjs/operator/map').map;
map.call(of(1,2,3), function (x) { return x + '!!!'; });
</code></pre>
<p>è¿˜å¯ä»¥ä½¿ç”¨ä¸Šé¢çš„æ–¹æ³•æ¥æ„å»ºä½ è‡ªå·±çš„ Observable å¹¶å°†å…¶ä»ä½ è‡ªå·±çš„æ¨¡å—ä¸­å¯¼å‡ºã€‚</p>
<ul>
<li>
<h4 id="ä½¿ç”¨-typescript-çš„-commonjs-æ¨¡å¼">ä½¿ç”¨ TypeScript çš„ CommonJS æ¨¡å¼</h4>
</li>
</ul>
<p>å½“ä½¿ç”¨ RxJS æ—¶æ”¶åˆ°äº†åƒ error TS2304: Cannot find name 'Promise' æˆ– error TS2304: Cannot find name 'Iterable' è¿™æ ·çš„æŠ¥é”™ä¿¡æ¯ï¼Œé‚£ä¹ˆä½ å¯èƒ½éœ€è¦å®‰è£…é¢å¤–çš„ typings ã€‚<br>
å¯¹äºä½¿ç”¨ typings çš„ç”¨æˆ·:</p>
<pre><code class="language-js">typings install es6-shim --ambient
</code></pre>
<p>å¦‚æœæ²¡æœ‰ä½¿ç”¨ typings çš„è¯ï¼Œå¯ä»¥ä» <code>/es6-shim/es6-shim.d.ts</code> æ‹·è´å®šä¹‰å¥½çš„æ¥å£ã€‚<br>
åœ¨ <code>tsconfig.json</code> æˆ– CLI å‚æ•°ä¸­æ·»åŠ ç±»å‹å®šä¹‰æ–‡ä»¶ã€‚</p>
<ul>
<li>
<h4 id="é€šè¿‡-npm-æ‰€æœ‰å…¨æ¨¡å—ç±»å‹-cjses6amdtypescript">é€šè¿‡ npm æ‰€æœ‰å…¨æ¨¡å—ç±»å‹ (CJS/ES6/AMD/TypeScript)</h4>
</li>
</ul>
<p>è¦å®‰è£…è¿™ä¸ªåº“éœ€è¦ npm 3åŠä»¥ä¸Šç‰ˆæœ¬ï¼Œä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤è¡Œï¼š</p>
<pre><code class="language-js">npm install @reactivex/rxjs
</code></pre>
<p>å¦‚æœä½ ä½¿ç”¨çš„è¿˜æ˜¯ npm 2çš„è¯ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸ªåº“å‡çº§è‡³ç¨³å®šç‰ˆä¹‹å‰ï¼Œéœ€è¦æ˜ç¡®åœ°æŒ‡å®šåº“çš„ç‰ˆæœ¬å·ï¼š</p>
<pre><code class="language-js">npm install @reactivex/rxjs@5.0.0-beta.1
</code></pre>
<ul>
<li>
<h4 id="cdn">CDN</h4>
</li>
</ul>
<p>å¯¹äº CDNï¼Œå¯ä»¥ä½¿ç”¨ BootCDNã€‚åªéœ€è¦ç”¨å½“å‰çš„ç‰ˆæœ¬å·æ¥æ›¿æ¢ä¸‹é¢é“¾æ¥ä¸­çš„ versionï¼š</p>
<pre><code class="language-js">https://cdn.bootcss.com/rxjs/6.0.0-beta.3/rxjs.umd.min.js
</code></pre>
<h2 id="æ ¸å¿ƒæ¦‚å¿µ">æ ¸å¿ƒæ¦‚å¿µ</h2>
<ul>
<li>
<h4 id="stream"><code>Stream</code></h4>
</li>
</ul>
<p>æµæ˜¯åœ¨æ—¶é—´æµé€çš„è¿‡ç¨‹ä¸­äº§ç”Ÿçš„ä¸€ç³»åˆ—äº‹ä»¶ã€‚å®ƒå…·æœ‰æ—¶é—´ä¸äº‹ä»¶å“åº”çš„æ¦‚å¿µã€‚<br>
æˆ‘ä»¬å¯ä»¥æŠŠä¸€åˆ‡è¾“å…¥éƒ½å½“åšæ•°æ®æµæ¥å¤„ç†ï¼Œæ¯”å¦‚è¯´ï¼š<br>
- ç”¨æˆ·æ“ä½œ<br>
- ç½‘ç»œå“åº”<br>
- å®šæ—¶å™¨<br>
- Worker</p>
<ul>
<li>
<h4 id="observable"><code>Observable</code></h4>
</li>
</ul>
<p>å¯è§‚å¯Ÿåºåˆ—ï¼Œç®€å•æ¥è¯´æ•°æ®å°±åœ¨Observableä¸­æµåŠ¨ï¼Œä½ å¯ä»¥ä½¿ç”¨å„ç§operatorå¯¹æµè¿›è¡Œå¤„ç†</p>
<ul>
<li>
<h4 id="observer"><code>Observer</code></h4>
</li>
</ul>
<p>observerï¼ˆè§‚å¯Ÿè€…ï¼‰ï¼Œè¡¨ç¤ºçš„æ˜¯å¯¹åºåˆ—ç»“æœçš„å¤„ç†æ–¹å¼</p>
<ul>
<li>
<h4 id="operator"><code>Operator</code></h4>
</li>
</ul>
<p>æ“ä½œç¬¦ï¼ˆçº¯å‡½æ•°ï¼‰</p>
<ul>
<li>
<h4 id="subject"><code>Subject</code></h4>
</li>
</ul>
<p>Subjectæ˜¯ä¸€ç§èƒ½å¤Ÿå‘å°„æ•°æ®ç»™å¤šä¸ªobserverçš„Observable, è¿™è®©Subjectçœ‹èµ·æ¥å°±å¥½åƒæ˜¯EventEmitterã€‚</p>
<ul>
<li>
<h4 id="scheduers"><code>Scheduers</code></h4>
</li>
</ul>
<p>è°ƒåº¦å™¨, æ§åˆ¶å¹¶å‘è¡Œä¸º</p>
<ul>
<li>
<h4 id="subscription"><code>Subscription</code></h4>
</li>
</ul>
<p>è®¢é˜…å™¨ï¼ŒObservableåŠ¨ä½œæ‰§è¡Œè€…</p>
<h2 id="æ¨¡å¼">æ¨¡å¼</h2>
<p>RxJSæ˜¯åŸºäºè§‚å¯Ÿè€…æ¨¡å¼ï¼Œè¿­ä»£å™¨æ¨¡å¼å’Œå‡½æ•°å¼ç¼–ç¨‹:</p>
<ul>
<li>
<h4 id="è§‚å¯Ÿè€…æ¨¡å¼">è§‚å¯Ÿè€…æ¨¡å¼</h4>
</li>
</ul>
<pre><code class="language-js">window.addEventListener('click', function(){
  console.log('click!');
})
</code></pre>
<p>JSçš„äº‹ä»¶ç›‘å¬å°±æ˜¯å¤©ç”Ÿçš„è§‚å¯Ÿè€…æ¨¡å¼ã€‚ç»™windowçš„clickäº‹ä»¶(è¢«è§‚å¯Ÿè€…)ç»‘å®šäº†ä¸€ä¸ªlistener(è§‚å¯Ÿè€…)ï¼Œå½“äº‹ä»¶å‘ç”Ÿï¼Œå›è°ƒå‡½æ•°å°±ä¼šè¢«è§¦å‘</p>
<ul>
<li>
<h4 id="è¿­ä»£å™¨æ¨¡å¼">è¿­ä»£å™¨æ¨¡å¼</h4>
</li>
</ul>
<p>è¿­ä»£å™¨æ¨¡å¼ï¼Œæä¾›ä¸€ç§æ–¹æ³•é¡ºåºè®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡ä¸­çš„å„ç§å…ƒç´ ï¼Œè€Œåˆä¸æš´éœ²è¯¥å¯¹è±¡çš„å†…éƒ¨è¡¨ç¤ºã€‚<br>
ES6é‡Œçš„Iteratorå³å¯å®ç°ï¼š</p>
<pre><code class="language-js">let arr = ['a', 'b', 'c'];
let iter = arr[Symbol.iterator]();
iter.next() // { value: 'a', done: false }
iter.next() // { value: 'b', done: false }
iter.next() // { value: 'c', done: false }
iter.next() // { value: undefined, done: true }
</code></pre>
<ul>
<li>
<h4 id="å‡½æ•°å¼ç¼–ç¨‹">å‡½æ•°å¼ç¼–ç¨‹</h4>
</li>
</ul>
<p>æåˆ°å‡½æ•°å¼ç¼–ç¨‹ï¼Œå°±è¦æåˆ°å£°æ˜å¼ç¼–ç¨‹å’Œå‘½ä»¤å¼ç¼–ç¨‹<br>
å‡½æ•°å¼ç¼–ç¨‹æ˜¯å£°æ˜å¼ç¼–ç¨‹çš„ä½“ç°<br>
é—®é¢˜ï¼šå°†æ•°ç»„[1, 2, 3]çš„æ¯ä¸ªå…ƒç´ ä¹˜ä»¥2ï¼Œç„¶åè®¡ç®—æ€»å’Œã€‚<br>
- å‘½ä»¤å¼ç¼–ç¨‹</p>
<pre><code class="language-js">const arr = [1, 2, 3];
let total = 0;
for(let i = 0; i &lt; arr.length; i++) {
  total += arr[i] * 2;
}
</code></pre>
<pre><code>- å£°æ˜å¼ç¼–ç¨‹
</code></pre>
<pre><code class="language-js">const arr = [1, 2, 3];
let total = arr.map(x =&gt; x * 2).reduce((total, value) =&gt; total + value)
</code></pre>
<p>å£°æ˜å¼çš„ç‰¹ç‚¹æ˜¯ä¸“æ³¨äºæè¿°ç»“æœæœ¬èº«ï¼Œä¸å…³æ³¨åˆ°åº•æ€ä¹ˆåˆ°è¾¾ç»“æœã€‚è€Œå‘½ä»¤å¼å°±æ˜¯çœŸæ­£å®ç°ç»“æœçš„æ­¥éª¤</p>
<p>å£°æ˜å¼ç¼–ç¨‹æŠŠåŸå§‹æ•°æ®ç»è¿‡ä¸€ç³»åˆ—è½¬æ¢(map, reduce)ï¼Œæœ€åå¾—åˆ°æƒ³è¦çš„æ•°æ®</p>
<p>ç°åœ¨å‰ç«¯æµè¡Œçš„MVCæ¡†æ¶(Vue,React,Angular)ï¼Œä¹Ÿéƒ½æ˜¯æå€¡ï¼šç¼–å†™UIç»“æ„æ—¶ä½¿ç”¨å£°æ˜å¼ç¼–ç¨‹ï¼Œåœ¨ç¼–å†™ä¸šåŠ¡é€»è¾‘æ—¶ä½¿ç”¨å‘½ä»¤å¼ç¼–ç¨‹</p>
<h2 id="å¼€å§‹ä½¿ç”¨">å¼€å§‹ä½¿ç”¨</h2>
<ul>
<li>
<h4 id="åˆ›å»ºå¯è§‚å¯Ÿåºåˆ—">åˆ›å»ºå¯è§‚å¯Ÿåºåˆ—</h4>
</li>
</ul>
<p>åˆ›å»ºä¸€ä¸ªåºåˆ—æœ‰å¾ˆå¤šç§æ–¹å¼ï¼Œæˆ‘ä»¬ä»…åˆ—ä¸¾å¸¸ç”¨çš„å‡ ç§ï¼š</p>
<pre><code class="language-js">Observable.of(...args)
</code></pre>
<p>å°†æ™®é€šJavaScriptæ•°æ®è½¬ä¸ºå¯è§‚å¯Ÿåºåˆ—ã€‚</p>
<pre><code class="language-js">Observable.fromPromise(promise)
</code></pre>
<p>å°†Promiseè½¬åŒ–ä¸ºObservableã€‚</p>
<pre><code class="language-js">Observable.fromEvent(elment, eventName)
</code></pre>
<p>ä»DOMäº‹ä»¶åˆ›å»ºåºåˆ—ï¼Œä¾‹å¦‚Observable.fromEvent($input, 'click')ã€‚</p>
<pre><code class="language-js">Observable.ajax(url | AjaxRequest)
</code></pre>
<p>å‘é€httpè¯·æ±‚ï¼ŒAjaxRequest</p>
<pre><code class="language-js">Observable.create(subscribe)
</code></pre>
<p>è¿™ä¸ªå±äºä¸‡èƒ½çš„åˆ›å»ºæ–¹æ³•ï¼Œå¾ˆå°‘ä¼šç”¨åˆ°ï¼Œåœ¨ä½ ç”¨è¿™ä¸ªæ–¹æ³•ä¹‹å‰å…ˆæƒ³æƒ³èƒ½ä¸èƒ½ç”¨RxJSä¸Šçš„ç±»æ–¹æ³•æ¥åˆ›å»ºä½ æ‰€éœ€è¦çš„åºåˆ—ã€‚</p>
<ul>
<li>
<h4 id="åˆå¹¶åºåˆ—">åˆå¹¶åºåˆ—</h4>
</li>
</ul>
<p>åˆå¹¶åºåˆ—ä¹Ÿå±äºåˆ›å»ºåºåˆ—çš„ä¸€ç§ï¼Œä¾‹å¦‚æœ‰è¿™æ ·çš„éœ€æ±‚ï¼šè¿›å…¥æŸä¸ªé¡µé¢åæ‹¿åˆ°äº†ä¸€ä¸ªåˆ—è¡¨ï¼Œç„¶åéœ€è¦å¯¹åˆ—è¡¨æ¯ä¸€é¡¹å‘å‡ºä¸€ä¸ªhttpè¯·æ±‚æ¥è·å–å¯¹åº”çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¿™é‡Œæˆ‘ä»¬æŠŠæ¯ä¸ªhttpè¯·æ±‚ä½œä¸ºä¸€ä¸ªåºåˆ—ï¼Œç„¶åæˆ‘ä»¬å¸Œæœ›åˆå¹¶å®ƒä»¬ã€‚<br>
åˆå¹¶æœ‰å¾ˆå¤šç§æ–¹å¼ï¼Œä¾‹å¦‚Nä¸ªè¯·æ±‚æŒ‰é¡ºåºä¸²è¡Œå‘å‡ºï¼ˆå‰ä¸€ä¸ªç»“æŸå†å‘ä¸‹ä¸€ä¸ªï¼‰ï¼›Nä¸ªè¯·æ±‚åŒæ—¶å‘å‡ºå¹¶ä¸”è¦æ±‚å…¨éƒ¨åˆ°è¾¾ååˆå¹¶ä¸ºæ•°ç»„ï¼Œè§¦å‘ä¸€æ¬¡å›è°ƒï¼›Nä¸ªè¯·æ±‚åŒæ—¶å‘å‡ºï¼Œå¯¹äºæ¯ä¸€ä¸ªåˆ°è¾¾å°±è§¦å‘ä¸€æ¬¡å›è°ƒã€‚<br>
å¦‚æœä¸ç”¨RxJSï¼Œæˆ‘ä»¬ä¼šæ¯”è¾ƒéš¾å¤„ç†è¿™ä¹ˆå¤šæƒ…å½¢ï¼Œä¸ä»…å®ç°éº»çƒ¦ï¼Œç»´æŠ¤æ›´éº»çƒ¦ï¼Œä¸‹é¢æ˜¯ä½¿ç”¨RxJSå¯¹ä¸Šè¿°éœ€æ±‚çš„è§£å†³æ–¹æ¡ˆï¼š</p>
<pre><code class="language-js">const ob1 = Observable.ajax('api/detail/1');
const ob2 = Observable.ajax('api/detail/2');
...
const obs = [ob1, ob2...];
// åˆ†åˆ«åˆ›å»ºå¯¹åº”çš„HTTPè¯·æ±‚ã€‚
</code></pre>
<ul>
<li>Nä¸ªè¯·æ±‚æŒ‰é¡ºåºä¸²è¡Œå‘å‡ºï¼ˆå‰ä¸€ä¸ªç»“æŸå†å‘ä¸‹ä¸€ä¸ªï¼‰</li>
</ul>
<pre><code class="language-js">Observable.concat(...obs).subscribe(detail =&gt; console.log('æ¯ä¸ªè¯·æ±‚éƒ½è§¦å‘å›è°ƒ'));
</code></pre>
<ul>
<li>Nä¸ªè¯·æ±‚åŒæ—¶å¹¶è¡Œå‘å‡ºï¼Œå¯¹äºæ¯ä¸€ä¸ªåˆ°è¾¾å°±è§¦å‘ä¸€æ¬¡å›è°ƒ</li>
</ul>
<pre><code class="language-js">Observable.merge(...obs).subscribe(detail =&gt; console.log('æ¯ä¸ªè¯·æ±‚éƒ½è§¦å‘å›è°ƒ'));
</code></pre>
<ul>
<li>Nä¸ªè¯·æ±‚åŒæ—¶å‘å‡ºå¹¶ä¸”è¦æ±‚å…¨éƒ¨åˆ°è¾¾ååˆå¹¶ä¸ºæ•°ç»„ï¼Œè§¦å‘ä¸€æ¬¡å›è°ƒ</li>
</ul>
<pre><code class="language-js">Observable.forkJoin(...obs).subscribe(detailArray =&gt; console.log('è§¦å‘ä¸€æ¬¡å›è°ƒ'));
</code></pre>
<ul>
<li>
<h4 id="åˆ›å»ºå¤šè·¯æ¨é€åºåˆ—">åˆ›å»ºå¤šè·¯æ¨é€åºåˆ—</h4>
</li>
</ul>
<p>Subjectæ˜¯ä¸€ç§å¯ä»¥å¤šè·¯æ¨é€çš„å¯è§‚å¯Ÿå¯¹è±¡ã€‚ä¸EventEmitterç±»ä¼¼ï¼ŒSubjectç»´æŠ¤ç€è‡ªå·±çš„Observerã€‚</p>
<p>æ¯ä¸€ä¸ªSubjectéƒ½æ˜¯ä¸€ä¸ªObservableï¼ˆå¯è§‚å¯Ÿå¯¹è±¡ï¼‰ å¯¹äºä¸€ä¸ªSubjectï¼Œä½ å¯ä»¥è®¢é˜…ï¼ˆsubscribeï¼‰å®ƒï¼ŒObserverä¼šå’Œå¾€å¸¸ä¸€æ ·æ¥æ”¶åˆ°æ•°æ®ã€‚ä»Observerçš„è§†è§’çœ‹ï¼Œå®ƒå¹¶ä¸èƒ½åŒºåˆ†è‡ªå·±çš„æ‰§è¡Œç¯å¢ƒæ˜¯æ™®é€šObservableçš„å•è·¯æ¨é€è¿˜æ˜¯åŸºäºSubjectçš„å¤šè·¯æ¨é€ã€‚</p>
<p>Subjectçš„å†…éƒ¨å®ç°ä¸­ï¼Œå¹¶ä¸ä¼šåœ¨è¢«è®¢é˜…ï¼ˆsubscribeï¼‰ååˆ›å»ºæ–°çš„æ‰§è¡Œç¯å¢ƒã€‚å®ƒä»…ä»…ä¼šæŠŠæ–°çš„Observeræ³¨å†Œåœ¨ç”±å®ƒæœ¬èº«ç»´æŠ¤çš„Observeråˆ—è¡¨ä¸­ï¼Œè¿™å’Œå…¶ä»–è¯­è¨€ã€åº“ä¸­çš„addListeneræœºåˆ¶ç±»ä¼¼ã€‚</p>
<p>æ¯ä¸€ä¸ªSubjectä¹Ÿå¯ä»¥ä½œä¸ºObserverï¼ˆè§‚å¯Ÿè€…ï¼‰ SubjectåŒæ ·ä¹Ÿæ˜¯ä¸€ä¸ªç”±next(v)ï¼Œerror(e)ï¼Œå’Œ complete()è¿™äº›æ–¹æ³•ç»„æˆçš„å¯¹è±¡ã€‚è°ƒç”¨next(theValue)æ–¹æ³•åï¼ŒSubjectä¼šå‘æ‰€æœ‰å·²ç»åœ¨å…¶ä¸Šæ³¨å†Œçš„Observerå¤šè·¯æ¨é€theValueã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åœ¨Subjectä¸Šæ³¨å†Œäº†ä¸¤ä¸ªObserverï¼Œå¹¶ä¸”å¤šè·¯æ¨é€äº†ä¸€äº›æ•°å€¼ï¼š</p>
<pre><code class="language-js">var subject = new Rx.Subject();
subject.subscribe({
  next: (v) =&gt; console.log('observerA: ' + v)
});
subject.subscribe({
  next: (v) =&gt; console.log('observerB: ' + v)
});
subject.next(1);
subject.next(2);
</code></pre>
<p>æ§åˆ¶å°è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code class="language-js">observerA: 1
observerB: 1
observerA: 2
observerB: 2
</code></pre>
<ul>
<li>
<h4 id="æ‰å¹³åŒ–æµ">æ‰å¹³åŒ–æµ</h4>
</li>
</ul>
<p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬çš„Observableé€å‡ºçš„æ˜¯ä¸€ä¸ªæ–°çš„Observable:</p>
<pre><code class="language-js">var click = Rx.Observable.fromEvent(document.body, 'click');
var source = click.map(e =&gt; Rx.Observable.of(1, 2, 3));
source.subscribe(value =&gt; {
  console.log(value)
});
</code></pre>
<p>è¿™é‡Œï¼Œconsoleæ‰“å°å‡ºæ¥çš„æ˜¯å¯¹è±¡ï¼Œè€Œä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„1,2,3ï¼Œè¿™æ˜¯å› ä¸ºmapè¿”å›çš„Rx.Observable.of(1, 2, 3)æœ¬èº«ä¹Ÿæ˜¯ä¸ªObservable</p>
<p>ç”¨å›¾è¡¨ç¤ºå¦‚ä¸‹ï¼š</p>
<pre><code class="language-js">click  : ------c------------c--------
      map(e =&gt; Rx.Observable.of(1,2,3))
source : ------o------------o--------
              \            \
               (123)|       (123)|
</code></pre>
<p>å› æ­¤ï¼Œæˆ‘ä»¬è®¢é˜…åˆ°çš„valueå€¼å°±æ˜¯ä¸€ä¸ªObservableå¯¹è±¡ï¼Œè€Œä¸æ˜¯æ™®é€šæ•°æ®1ï¼Œ2ï¼Œ3</p>
<p>æˆ‘æƒ³è¦çš„å…¶å®ä¸æ˜¯Observableæœ¬èº«ï¼Œè€Œæ˜¯å±äºè¿™ä¸ªObservableé‡Œé¢çš„é‚£äº›ä¸œè¥¿ï¼Œç°åœ¨è¿™ä¸ªæƒ…å½¢å°±æ˜¯Observableé‡Œé¢åˆæœ‰Observableï¼Œæœ‰ä¸¤å±‚ï¼Œå¯æ˜¯æˆ‘æƒ³è¦è®©å®ƒå˜æˆä¸€å±‚å°±å¥½ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>
<p>è¿™å°±éœ€è¦æŠŠObservableæ‰å¹³åŒ–</p>
<pre><code class="language-js">const arr = [1, [2, 3], 4];
// æ‰å¹³åŒ–åï¼š
const flatArr = [1, 2, 3, 4];
</code></pre>
<p>concatAllè¿™ä¸ªæ“ä½œç¬¦å°±å¯ä»¥æŠŠObservableæ‰å¹³åŒ–</p>
<pre><code class="language-js">var click = Rx.Observable.fromEvent(document.body, 'click');
var source = click.map(e =&gt; Rx.Observable.of(1, 2, 3));
var example = source.concatAll();
example.subscribe(value =&gt; {
  console.log(value)
})
</code></pre>
<pre><code class="language-js">click  : ------c------------c--------
      map(e =&gt; Rx.Observable.of(1,2,3))
source : ------o------------o--------
              \            \
               (123)|       (123)|
                 concatAll()
example: ------(123)--------(123)------------
</code></pre>
<p>flatMapæ“ä½œç¬¦ä¹Ÿå¯ä»¥å®ç°åŒæ ·çš„ä½œç”¨ï¼Œå°±æ˜¯å†™æ³•æœ‰äº›ä¸åŒï¼š</p>
<pre><code class="language-js">var click = Rx.Observable.fromEvent(document.body, 'click');
var source = click.flatMap(e =&gt; Rx.Observable.of(1, 2, 3));
source.subscribe(value =&gt; {
  console.log(value)
})
</code></pre>
<pre><code class="language-js">click  : ------c------------c--------
      flatMap(e =&gt; Rx.Observable.of(1,2,3))
source: ------(123)--------(123)------------
</code></pre>
<h2 id="å¸¸ç”¨æ“ä½œç¬¦">å¸¸ç”¨æ“ä½œç¬¦</h2>
<ul>
<li>
<h4 id="repeat"><code>repeat</code></h4>
</li>
</ul>
<p>é‡å¤ count æ¬¡ï¼Œæº Observable å‘å‡ºçš„å€¼ã€‚</p>
<ul>
<li>
<h4 id="pip"><code>pip</code></h4>
</li>
<li>
<h4 id="map"><code>map</code></h4>
</li>
</ul>
<p>å¯¹ Observable å¯¹è±¡å‘å‡ºçš„æ¯ä¸ªå€¼ï¼Œä½¿ç”¨æŒ‡å®šçš„ project å‡½æ•°ï¼Œè¿›è¡Œæ˜ å°„å¤„ç†ã€‚</p>
<ul>
<li>
<h4 id="mapto"><code>mapTo</code></h4>
</li>
</ul>
<p>å¯¹ Observable å¯¹è±¡å‘å‡ºçš„æ¯ä¸ªå€¼ï¼Œæ˜ å°„æˆå›ºå®šçš„å€¼ã€‚</p>
<ul>
<li>
<h4 id="pluck"><code>pluck</code></h4>
</li>
</ul>
<p>æå–å±æ€§å€¼å¹¶è¾“å‡º</p>
<ul>
<li>
<h4 id="do"><code>do</code></h4>
</li>
</ul>
<p>ä¸åšæ•°æ®æ ¼å¼åŒ–ï¼Œå¯ç”¨äºè°ƒè¯•</p>
<ul>
<li>
<h4 id="filter"><code>filter</code></h4>
</li>
</ul>
<p>å¯¹ Observable å¯¹è±¡å‘å‡ºçš„æ¯ä¸ªå€¼ï¼Œä½œä¸ºå‚æ•°è°ƒç”¨æŒ‡å®šçš„ predicate å‡½æ•°ï¼Œè‹¥è¯¥å‡½æ•°çš„è¿”å›å€¼ä¸º trueï¼Œåˆ™è¡¨ç¤ºä¿ç•™è¯¥é¡¹ï¼Œè‹¥è¿”å›å€¼ä¸º falseï¼Œåˆ™èˆå¼ƒè¯¥å€¼ã€‚</p>
<ul>
<li>
<h4 id="take"><code>take</code></h4>
</li>
</ul>
<p>äºè·å– Observable å¯¹è±¡å‘å‡ºçš„å‰ n é¡¹å€¼ï¼Œå–å®Œåå°±ç»“æŸã€‚</p>
<ul>
<li>
<h4 id="takewhile"><code>takeWhile</code></h4>
</li>
</ul>
<p>æ»¡è¶³ä»€ä¹ˆæ¡ä»¶æ—¶å¼€å§‹å–æ•°æ®</p>
<ul>
<li>
<h4 id="skip"><code>skip</code></h4>
</li>
</ul>
<p>è¡¨ç¤ºè·³è¿‡å¤šå°‘æ¡æ•°æ®åå¼€å§‹å–</p>
<ul>
<li>
<h4 id="distinctuntilchanged"><code>distinctUntilChanged</code></h4>
</li>
</ul>
<p>è¿‡æ»¤æº Observable å‘å‡ºçš„å€¼ï¼Œè‹¥å½“å‰å‘å‡ºçš„å€¼ä¸å‰ä¸€æ¬¡å€¼ä¸ä¸€è‡´ï¼Œåˆ™å‘å‡ºè¯¥å€¼ã€‚</p>
<ul>
<li>
<h4 id="scan"><code>scan</code></h4>
</li>
</ul>
<p>åŠŸèƒ½æœ‰ç‚¹ç±»ä¼¼äºArray#reduceè¿™ä¸ªæ–¹æ³•ï¼Œå¯ç”¨äºç´¯åŠ æ•°æ®åŒæ—¶å¯ä»¥ä½¿ç”¨startWithçš„æ•°æ®ç”¨é€”scançš„åˆå§‹å€¼ï¼Œæœ€åè¿”å›ç´¯åŠ çš„æ•°æ®</p>
<ul>
<li>
<h4 id="delay"><code>delay</code></h4>
</li>
</ul>
<p>è¡¨ç¤ºObservableå»¶æ—¶å¤šä¹…å¼€å§‹å¤„ç†è®¢é˜…æ•°æ®</p>
<ul>
<li>
<h4 id="toarray"><code>toArray</code></h4>
</li>
</ul>
<p>æŠŠè¾“å‡ºå€¼æ ¼å¼åŒ–æˆæ•°æ®å½¢å¼</p>
<ul>
<li>
<h4 id="tomap"><code>toMap</code></h4>
</li>
</ul>
<p>ç»™å½“å‰çš„è¾“å‡ºå–ä¸ªåå­—æˆ–æ ‡ç­¾</p>
<ul>
<li>
<h4 id="expand"><code>expand</code></h4>
</li>
</ul>
<p>å®ç°é€’å½’</p>
<ul>
<li>
<h4 id="forkjoin"><code>forkJoin</code></h4>
</li>
</ul>
<p>ç±»ä¼¼äºPromise.allï¼Œåªæœ‰æ•°æ®å…¨éƒ¨è¿”å›ä¸”çŠ¶æ€ä¸ºcompleteæ—¶ï¼Œè¡¨ç¤ºæˆåŠŸå¤„ç†äº†è¯·æ±‚ï¼Œå¦åˆ™å¤±è´¥</p>
<ul>
<li>
<h4 id="let"><code>let</code></h4>
</li>
</ul>
<p>è¿™ä¸ªæ“ä½œç¬¦å¯ä»¥è·å–å®Œæ•´çš„è¾“å…¥Observableå¯¹è±¡ï¼Œåšç›¸åº”çš„å¤„ç†åè¿”å›æ–°çš„Observableå¯¹è±¡</p>
<ul>
<li>
<h4 id="catch"><code>catch</code></h4>
</li>
</ul>
<p>ç”¨äºObservableå¤„ç†æ•°æ®å¼‚å¸¸çš„å¤„ç†</p>
<ul>
<li>
<h4 id="combinelatest"><code>combineLatest</code></h4>
</li>
</ul>
<p>ç”¨äºç»„ä¸”å„ä¸ªè¾“å…¥çš„Observableï¼Œå¹¶è·å–å’Œè¿”å›å„ä¸ªObservableæœ€æ–°çš„æ•°æ®</p>
<ul>
<li>
<h4 id="buffer"><code>buffer</code></h4>
</li>
</ul>
<p>ç¼“å†²æº Observable å¯¹è±¡å·²å‘å‡ºçš„å€¼ï¼Œç›´åˆ° closingNotifier è§¦å‘åï¼Œæ‰ç»Ÿä¸€è¾“å‡ºç¼“å­˜çš„å…ƒç´ ã€‚</p>
<ul>
<li>
<h4 id="buffertime"><code>bufferTime</code></h4>
</li>
</ul>
<p>è®¾å®šæº Observable å¯¹è±¡å·²å‘å‡ºçš„å€¼çš„ç¼“å†²æ—¶é—´ã€‚</p>
<ul>
<li>
<h4 id="buffercount"><code>bufferCount</code></h4>
</li>
</ul>
<p>ç¼“å†²æº Observableå¯¹è±¡å·²å‘å‡ºçš„å€¼ï¼Œç›´åˆ°å¤§å°è¾¾åˆ°ç»™å®šçš„æœ€å¤§ bufferSize ã€‚</p>
<ul>
<li>
<h4 id="concatmap"><code>concatMap</code></h4>
</li>
</ul>
<p>å¯¹æ¯ä¸ª Observable å¯¹è±¡å‘å‡ºçš„å€¼ï¼Œè¿›è¡Œæ˜ å°„å¤„ç†ï¼Œå¹¶è¿›è¡Œåˆå¹¶ã€‚è¯¥æ“ä½œç¬¦ä¹Ÿä¼šå…ˆå¤„ç†å‰ä¸€ä¸ª Observable å¯¹è±¡ï¼Œåœ¨å¤„ç†ä¸‹ä¸€ä¸ª Observable å¯¹è±¡ã€‚</p>
<ul>
<li>
<h4 id="switchmap"><code>switchMap</code></h4>
</li>
</ul>
<p>å¯¹æº Observable å¯¹è±¡å‘å‡ºçš„å€¼ï¼Œåšæ˜ å°„å¤„ç†ã€‚è‹¥æœ‰æ–°çš„ Observable å¯¹è±¡å‡ºç°ï¼Œä¼šåœ¨æ–°çš„ Observable å¯¹è±¡å‘å‡ºæ–°å€¼åï¼Œé€€è®¢å‰ä¸€ä¸ªæœªå¤„ç†å®Œçš„ Observable å¯¹è±¡ã€‚</p>
<ul>
<li>
<h4 id="first"><code>first</code></h4>
</li>
</ul>
<p>ç”¨äºè·å– Observable å¯¹è±¡å‘å‡ºçš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå–å®Œåå°±ç»“æŸã€‚</p>
<ul>
<li>
<h4 id="takeuntil"><code>takeUntil</code></h4>
</li>
</ul>
<p>å½“ takeUntil ä¼ å…¥çš„ notifier å‘å‡ºå€¼æ—¶ï¼Œæº Observable å¯¹è±¡å°±ä¼šç›´æ¥è¿›å…¥å®ŒæˆçŠ¶æ€ã€‚</p>
<ul>
<li>
<h4 id="takelast"><code>takeLast</code></h4>
</li>
</ul>
<p>è·å–æº Observable å¯¹è±¡å‘å‡ºçš„ï¼Œåé¢ count é¡¹çš„å€¼ã€‚</p>
<ul>
<li>
<h4 id="last"><code>last</code></h4>
</li>
</ul>
<p>è·å–æº Observable å¯¹è±¡å‘å‡ºçš„æœ€åä¸€é¡¹çš„å€¼ã€‚</p>
<ul>
<li>
<h4 id="debouncetime"><code>debounceTime</code></h4>
</li>
</ul>
<p>åœ¨è®¾å®šçš„æ—¶é—´è·¨åº¦å†…ï¼Œè‹¥æº Observable å¯¹è±¡æ²¡æœ‰å†å‘å‡ºæ–°å€¼ï¼Œåˆ™è¿”å›æœ€è¿‘ä¸€æ¬¡å‘å‡ºçš„å€¼ã€‚</p>
<ul>
<li>
<h4 id="throttletime"><code>throttleTime</code></h4>
</li>
</ul>
<p>ä»æº Observable å¯¹è±¡å‘å‡ºç¬¬ä¸€ä¸ªå€¼å¼€å§‹ï¼Œå¿½ç•¥ç­‰å¾…æ—¶é—´å†…å‘å‡ºçš„å€¼ï¼Œç­‰å¾…æ—¶é—´è¿‡åå†å‘å‡ºæ–°å€¼ã€‚ä¸ debounceTime ä¸åŒçš„æ˜¯ï¼ŒthrottleTime ä¸€å¼€å§‹å°±ä¼šå‘å‡ºå€¼ï¼Œåœ¨ç­‰å¾…æ—¶é—´å†…ä¸ä¼šå‘å‡ºä»»ä½•å€¼ï¼Œç­‰å¾…æ—¶é—´è¿‡ååˆä¼šå‘å‡ºæ–°çš„å€¼ã€‚</p>
<ul>
<li>
<h4 id="distinct"><code>distinct</code></h4>
</li>
</ul>
<p>è¿‡æ»¤æº Observable å‘å‡ºçš„å€¼ï¼Œç¡®ä¿ä¸ä¼šå‘å‡ºé‡å¤å‡ºç°çš„å€¼ã€‚</p>
<ul>
<li>
<h4 id="concat"><code>concat</code></h4>
</li>
</ul>
<p>æŠŠå¤šä¸ª Observable å¯¹è±¡åˆå¹¶ä¸ºä¸€ä¸ª Observable å¯¹è±¡ï¼ŒObservable å¯¹è±¡ä¼šä¾æ¬¡æ‰§è¡Œï¼Œå³éœ€ç­‰å‰ä¸€ä¸ª Observable å¯¹è±¡å®Œæˆåï¼Œæ‰ä¼šç»§ç»­è®¢é˜…ä¸‹ä¸€ä¸ªã€‚</p>
<ul>
<li>
<h4 id="concatall"><code>concatAll</code></h4>
</li>
</ul>
<p>åˆå¹¶å¤šä¸ª Observable å¯¹è±¡ï¼Œå¹¶åœ¨ä¸Šä¸€ä¸ª Observable å¯¹è±¡å®Œæˆåè®¢é˜…ä¸‹ä¸€ä¸ª Observable å¯¹è±¡ã€‚</p>
<ul>
<li>
<h4 id="startwith"><code>startWith</code></h4>
</li>
</ul>
<p>åœ¨å¼€å§‹å‘å‡ºæº Observable æ•°æ®ä¹‹å‰å‘å‡ºå·²è®¾ç½®çš„å‚æ•°å€¼ï¼Œå¹¶è¿”å›æ–°çš„ Observable å¯¹è±¡ã€‚</p>
<ul>
<li>
<h4 id="merge"><code>merge</code></h4>
</li>
</ul>
<p>åˆå¹¶ Observable å¯¹è±¡ï¼Œå¹¶æŒ‰ç»™å®šçš„æ—¶åºå‘å‡ºå¯¹åº”å€¼ã€‚</p>
<ul>
<li>
<h4 id="mergeall"><code>mergeAll</code></h4>
</li>
</ul>
<p>å°†é«˜é˜¶ Observable å¯¹è±¡è½¬æ¢ä¸ºä¸€é˜¶Observable å¯¹è±¡ï¼Œå¹¶åŒæ—¶å¤„ç†æ‰€æœ‰çš„ Observable å¯¹è±¡ã€‚</p>
<ul>
<li>
<h4 id="combinelatest-2"><code>combineLatest</code></h4>
</li>
</ul>
<p>ç”¨äºåˆå¹¶è¾“å…¥çš„ Observable å¯¹è±¡ï¼Œå½“æº Observable å¯¹è±¡å’Œ other Observable å¯¹è±¡éƒ½å‘å‡ºå€¼åï¼Œæ‰ä¼šè°ƒç”¨ project å‡½æ•°ã€‚</p>
<ul>
<li>
<h4 id="zip"><code>zip</code></h4>
</li>
</ul>
<p>æ ¹æ®æ¯ä¸ªè¾“å…¥ Observable å¯¹è±¡çš„è¾“å‡ºé¡ºåºï¼Œäº§ç”Ÿä¸€ä¸ªæ–°çš„ Observable å¯¹è±¡ã€‚</p>
<ul>
<li>
<h4 id="withlatestfrom"><code>withLatestFrom</code></h4>
</li>
</ul>
<p>å½“æº Observable å‘å‡ºæ–°å€¼çš„æ—¶å€™ï¼Œæ ¹æ® project å‡½æ•°ï¼Œåˆå¹¶ other Observable å¯¹è±¡æ­¤å‰å‘å‡ºçš„æœ€æ–°å€¼ã€‚</p>
<ul>
<li>
<h4 id="switch"><code>switch</code></h4>
</li>
</ul>
<p>åˆ‡æ¢ä¸ºæœ€æ–°çš„ Observable æ•°æ®æºï¼Œå¹¶é€€è®¢å‰ä¸€ä¸ª Observable æ•°æ®æºã€‚</p>
<ul>
<li>
<h4 id="delaywhen"><code>delayWhen</code></h4>
</li>
</ul>
<p>delayWhen çš„ä½œç”¨è·Ÿ delay æ“ä½œç¬¦ç±»ä¼¼ï¼Œæœ€å¤§çš„åŒºåˆ«æ˜¯ delayWhen ä¼šå½±å“æ¯ä¸ªå…ƒç´ ï¼Œè€Œä¸”è°ƒç”¨çš„æ—¶å€™éœ€è¦è®¾ç½® delayDurationSelector å‡½æ•°ï¼Œè¯¥å‡½æ•°çš„è¿”å›å€¼æ˜¯ Observable å¯¹è±¡ã€‚</p>
<ul>
<li>
<h4 id="multicast"><code>multicast</code></h4>
</li>
</ul>
<p>ç”¨äºæŒ‚è½½ Subject å¯¹è±¡ï¼Œå¹¶è¿”å›ä¸€ä¸ªå¯é“¾æ¥ (connectable) çš„ Observable å¯¹è±¡ã€‚</p>
<ul>
<li>
<h4 id="publish"><code>publish</code></h4>
</li>
</ul>
<p>ç”¨äºæŒ‚è½½ Subject å¯¹è±¡ï¼Œå¹¶è¿”å›ä¸€ä¸ªå¯é“¾æ¥ (connectable) çš„ Observable å¯¹è±¡ã€‚å³ publish æ“ä½œç¬¦ä¸ multicast(new Rx.Subject()) æ˜¯ç­‰ä»·çš„ã€‚</p>
<ul>
<li>
<h4 id="share"><code>share</code></h4>
</li>
</ul>
<p>share æ“ä½œç¬¦æ˜¯ publish + refCount çš„ç®€å†™ã€‚</p>
<ul>
<li>
<h4 id="retry"><code>retry</code></h4>
</li>
</ul>
<p>å‘ç”Ÿé”™è¯¯åï¼Œé‡è¯• count æ¬¡æ•°</p>
<ul>
<li>
<h4 id="retrywhen"><code>retryWhen</code></h4>
</li>
</ul>
<p>æ•è·å¼‚å¸¸ Observable å¯¹è±¡ï¼Œè¿›è¡Œå¼‚å¸¸å¤„ç†åï¼Œå¯é‡æ–°è®¢é˜…æº Observable å¯¹è±¡ã€‚</p>
<h2 id="ç®€å•æ‹–æ‹½å®ä¾‹">ç®€å•æ‹–æ‹½å®ä¾‹</h2>
<pre><code class="language-html">&lt;style type=&quot;text/css&quot;&gt;
html, body {
  height: 100%;
  background-color: tomato;
  position: relative;
}
#drag {
  position: absolute;
  display: inline-block;
  width: 100px;
  height: 100px;
  background-color: #fff;
  cursor: all-scroll;
}
&lt;/style&gt;
&lt;div id=&quot;drag&quot;&gt;&lt;/div&gt;
</code></pre>
<pre><code class="language-js">const mouseDown = Rx.Observable.fromEvent(dragDOM, 'mousedown');
const mouseUp = Rx.Observable.fromEvent(body, 'mouseup');
const mouseMove = Rx.Observable.fromEvent(body, 'mousemove');
</code></pre>
<p>é¦–å…ˆç»™å‡º3ä¸ªObservableï¼Œåˆ†åˆ«ä»£è¡¨3ç§äº‹ä»¶ï¼Œæˆ‘ä»¬å¸Œæœ›mousedownçš„æ—¶å€™ç›‘å¬mousemove,ç„¶åmouseupæ—¶åœæ­¢ç›‘å¬ï¼Œäºæ˜¯RxJSå¯ä»¥è¿™ä¹ˆå†™ï¼š</p>
<pre><code class="language-js">const source = mouseDown
.map(event =&gt; mouseMove.takeUntil(mouseUp))
</code></pre>
<p>takeUntilæ“ä½œç¬¦å¯ä»¥åœ¨æŸä¸ªæ¡ä»¶ç¬¦åˆæ—¶ï¼Œå‘é€completeäº‹ä»¶</p>
<pre><code class="language-js">source: -------e--------------e-----
                \              \
                  --m-m-m-m|     -m--m-m--m-m|
</code></pre>
<p>ä»å›¾ä¸Šå¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬è¿˜éœ€è¦æŠŠsourceæ‰å¹³åŒ–ï¼Œæ‰èƒ½è·å–æ‰€éœ€æ•°æ®ã€‚</p>
<p>å®Œæ•´ä»£ç ï¼š</p>
<pre><code class="language-js">const dragDOM = document.getElementById('drag');
const body = document.body;
const mouseDown = Rx.Observable.fromEvent(dragDOM, 'mousedown');
const mouseUp = Rx.Observable.fromEvent(body, 'mouseup');
const mouseMove = Rx.Observable.fromEvent(body, 'mousemove');
mouseDown
    .flatMap(event =&gt; mouseMove.takeUntil(mouseUp))
    .map(event =&gt; ({ x: event.clientX, y: event.clientY }))
    .subscribe(pos =&gt; {
        dragDOM.style.left = pos.x + 'px';
        dragDOM.style.top = pos.y + 'px';
    })
</code></pre>
<h2 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™</h2>
<ul>
<li><a href="http://cn.rx.js.org/" target="_blank" rel="nofollow">Rxjsä¸­æ–‡æ–‡æ¡£ </a></li>
<li><a href="https://zhuanlan.zhihu.com/p/25383159" target="_blank" rel="nofollow"> RxJS å…¥é—¨æŒ‡å¼•å’Œåˆæ­¥åº”ç”¨</a></li>
<li><a href="https://segmentfault.com/a/1190000012252368" target="_blank" rel="nofollow"> RxJS: ç®€å•å…¥é—¨</a></li>
<li><a href="https://segmentfault.com/a/1190000013829356" target="_blank" rel="nofollow"> RxJSåŸºç¡€æ•™ç¨‹</a></li>
<li><a href="https://blog.techbridge.cc/2017/12/08/rxjs/?utm_medium=hao.caibaojian.com&utm_source=hao.caibaojian.com" target="_blank" rel="nofollow"> å¸Œæœ›æ˜¯æœ€æ·ºé¡¯æ˜“æ‡‚çš„ RxJS æ•™å­¸</a></li>
<li><a href="http://xgrommx.github.io/rx-book/index.html" target="_blank" rel="nofollow"> Rxjsæ–‡æ¡£Gitbook</a></li>
<li><a href="https://segmentfault.com/a/1190000010599259" target="_blank" rel="nofollow">äººäººéƒ½èƒ½çœ‹æ‡‚çš„RXJSå¸¸ç”¨å®ä¾‹æ“ä½œç¬¦ </a></li>
<li><a href="https://segmentfault.com/a/1190000008834251" target="_blank" rel="nofollow">RxJS Operators è¯¦è§£ </a></li>
<li><a href="https://segmentfault.com/a/1190000005069851" target="_blank" rel="nofollow">RxJS æ ¸å¿ƒæ¦‚å¿µä¹‹Subject </a></li>
<li><a href="https://segmentfault.com/a/1190000008464065" target="_blank" rel="nofollow">é€šä¿—çš„æ–¹å¼ç†è§£RxJS</a></li>
<li><a href="https://segmentfault.com/a/1190000005059624" target="_blank" rel="nofollow">RxJS æ ¸å¿ƒæ¦‚å¿µObserver &amp; Subscription </a></li>
</ul>
 </p>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12 animate-box">
                        
                            <div class="next-post">
                                <div class="next">ä¸‹ä¸€ç¯‡</div>
                                <a href="https://huxinmin.github.io/post/ionic3-kai-fa-hybird-app-chu-ti-yan/">
                                    <h3 class="post-title">
                                        Ionic3å¼€å‘Hybird Appåˆä½“éªŒ
                                    </h3>
                                </a>
                            </div>
                        
                    </div>
                </div>

                <div class="row">
    <div class="col-md-12 animate-box">
        
    </div>
</div>

            </div>

        </article>
    </div>
</div>

    

    <!-- è¿”å›é¡¶éƒ¨ -->
    <div class="back-to-top">
    
        <a href="#!" id="tool-toc" class="hidden-xs hidden-sm">
            <i class="fa fa-map"></i>
        </a>
        <br>
    
    <a href="#top" class="hidden-xs hidden-sm"><i class="fa fa-paper-plane"></i></a>
</div>

<div class="post-toc animated fadeInRight hidden-xs hidden-sm" style="display: none;">
    <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#rxjs%E7%AE%80%E4%BB%8B">Rxjsç®€ä»‹</a></li>
<li><a href="#reactivex%E7%AE%80%E4%BB%8B">Reactivexç®€ä»‹</a></li>
<li><a href="#why-rxjs">Why Rxjs</a><br>
*
<ul>
<li><a href="#%E5%A4%9A%E4%BD%99%E7%9A%84%E8%AF%B7%E6%B1%82">å¤šä½™çš„è¯·æ±‚</a></li>
<li><a href="#%E5%B7%B2%E6%97%A0%E7%94%A8%E7%9A%84%E8%AF%B7%E6%B1%82%E4%BB%8D%E7%84%B6%E6%89%A7%E8%A1%8C">å·²æ— ç”¨çš„è¯·æ±‚ä»ç„¶æ‰§è¡Œ</a></li>
</ul>
</li>
<li><a href="#%E5%AE%89%E8%A3%85%E6%96%B9%E6%B3%95">å®‰è£…æ–¹æ³•</a><br>
*
<ul>
<li><a href="#%E9%80%9A%E8%BF%87-npm-%E5%AE%89%E8%A3%85-es6-%E7%89%88%E6%9C%AC">é€šè¿‡ npm å®‰è£… ES6 ç‰ˆæœ¬</a></li>
<li><a href="#%E9%80%9A%E8%BF%87-npm-%E5%AE%89%E8%A3%85-commonjs-%E7%89%88%E6%9C%AC">é€šè¿‡ npm å®‰è£… CommonJS ç‰ˆæœ¬</a></li>
<li><a href="#%E4%BD%BF%E7%94%A8-typescript-%E7%9A%84-commonjs-%E6%A8%A1%E5%BC%8F">ä½¿ç”¨ TypeScript çš„ CommonJS æ¨¡å¼</a></li>
<li><a href="#%E9%80%9A%E8%BF%87-npm-%E6%89%80%E6%9C%89%E5%85%A8%E6%A8%A1%E5%9D%97%E7%B1%BB%E5%9E%8B-cjses6amdtypescript">é€šè¿‡ npm æ‰€æœ‰å…¨æ¨¡å—ç±»å‹ (CJS/ES6/AMD/TypeScript)</a></li>
<li><a href="#cdn">CDN</a></li>
</ul>
</li>
<li><a href="#%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5">æ ¸å¿ƒæ¦‚å¿µ</a><br>
*
<ul>
<li><a href="#stream"><code>Stream</code></a></li>
<li><a href="#observable"><code>Observable</code></a></li>
<li><a href="#observer"><code>Observer</code></a></li>
<li><a href="#operator"><code>Operator</code></a></li>
<li><a href="#subject"><code>Subject</code></a></li>
<li><a href="#scheduers"><code>Scheduers</code></a></li>
<li><a href="#subscription"><code>Subscription</code></a></li>
</ul>
</li>
<li><a href="#%E6%A8%A1%E5%BC%8F">æ¨¡å¼</a><br>
*
<ul>
<li><a href="#%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F">è§‚å¯Ÿè€…æ¨¡å¼</a></li>
<li><a href="#%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F">è¿­ä»£å™¨æ¨¡å¼</a></li>
<li><a href="#%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B">å‡½æ•°å¼ç¼–ç¨‹</a></li>
</ul>
</li>
<li><a href="#%E5%BC%80%E5%A7%8B%E4%BD%BF%E7%94%A8">å¼€å§‹ä½¿ç”¨</a><br>
*
<ul>
<li><a href="#%E5%88%9B%E5%BB%BA%E5%8F%AF%E8%A7%82%E5%AF%9F%E5%BA%8F%E5%88%97">åˆ›å»ºå¯è§‚å¯Ÿåºåˆ—</a></li>
<li><a href="#%E5%90%88%E5%B9%B6%E5%BA%8F%E5%88%97">åˆå¹¶åºåˆ—</a></li>
<li><a href="#%E5%88%9B%E5%BB%BA%E5%A4%9A%E8%B7%AF%E6%8E%A8%E9%80%81%E5%BA%8F%E5%88%97">åˆ›å»ºå¤šè·¯æ¨é€åºåˆ—</a></li>
<li><a href="#%E6%89%81%E5%B9%B3%E5%8C%96%E6%B5%81">æ‰å¹³åŒ–æµ</a></li>
</ul>
</li>
<li><a href="#%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C%E7%AC%A6">å¸¸ç”¨æ“ä½œç¬¦</a><br>
*
<ul>
<li><a href="#repeat"><code>repeat</code></a></li>
<li><a href="#pip"><code>pip</code></a></li>
<li><a href="#map"><code>map</code></a></li>
<li><a href="#mapto"><code>mapTo</code></a></li>
<li><a href="#pluck"><code>pluck</code></a></li>
<li><a href="#do"><code>do</code></a></li>
<li><a href="#filter"><code>filter</code></a></li>
<li><a href="#take"><code>take</code></a></li>
<li><a href="#takewhile"><code>takeWhile</code></a></li>
<li><a href="#skip"><code>skip</code></a></li>
<li><a href="#distinctuntilchanged"><code>distinctUntilChanged</code></a></li>
<li><a href="#scan"><code>scan</code></a></li>
<li><a href="#delay"><code>delay</code></a></li>
<li><a href="#toarray"><code>toArray</code></a></li>
<li><a href="#tomap"><code>toMap</code></a></li>
<li><a href="#expand"><code>expand</code></a></li>
<li><a href="#forkjoin"><code>forkJoin</code></a></li>
<li><a href="#let"><code>let</code></a></li>
<li><a href="#catch"><code>catch</code></a></li>
<li><a href="#combinelatest"><code>combineLatest</code></a></li>
<li><a href="#buffer"><code>buffer</code></a></li>
<li><a href="#buffertime"><code>bufferTime</code></a></li>
<li><a href="#buffercount"><code>bufferCount</code></a></li>
<li><a href="#concatmap"><code>concatMap</code></a></li>
<li><a href="#switchmap"><code>switchMap</code></a></li>
<li><a href="#first"><code>first</code></a></li>
<li><a href="#takeuntil"><code>takeUntil</code></a></li>
<li><a href="#takelast"><code>takeLast</code></a></li>
<li><a href="#last"><code>last</code></a></li>
<li><a href="#debouncetime"><code>debounceTime</code></a></li>
<li><a href="#throttletime"><code>throttleTime</code></a></li>
<li><a href="#distinct"><code>distinct</code></a></li>
<li><a href="#concat"><code>concat</code></a></li>
<li><a href="#concatall"><code>concatAll</code></a></li>
<li><a href="#startwith"><code>startWith</code></a></li>
<li><a href="#merge"><code>merge</code></a></li>
<li><a href="#mergeall"><code>mergeAll</code></a></li>
<li><a href="#combinelatest-2"><code>combineLatest</code></a></li>
<li><a href="#zip"><code>zip</code></a></li>
<li><a href="#withlatestfrom"><code>withLatestFrom</code></a></li>
<li><a href="#switch"><code>switch</code></a></li>
<li><a href="#delaywhen"><code>delayWhen</code></a></li>
<li><a href="#multicast"><code>multicast</code></a></li>
<li><a href="#publish"><code>publish</code></a></li>
<li><a href="#share"><code>share</code></a></li>
<li><a href="#retry"><code>retry</code></a></li>
<li><a href="#retrywhen"><code>retryWhen</code></a></li>
</ul>
</li>
<li><a href="#%E7%AE%80%E5%8D%95%E6%8B%96%E6%8B%BD%E5%AE%9E%E4%BE%8B">ç®€å•æ‹–æ‹½å®ä¾‹</a></li>
<li><a href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">å‚è€ƒèµ„æ–™</a></li>
</ul>
</li>
</ul>

</div>


    
<footer id="fh5co-footer">
  <p>Powered by <a href="https://huxinmin.github.io" target="_blank">èƒ¡æ–°æ•çš„ä¸ªäººåšå®¢</a></p>
</footer>


    <!-- jQuery -->
<script src="https://huxinmin.github.io/media/scripts/jquery.min.js"></script>
<!-- img lazy load -->
<script src="https://huxinmin.github.io/media/scripts/jquery.lazyload.min.js"></script>
<!-- jQuery Easing -->
<script src="https://huxinmin.github.io/media/scripts/jquery.easing.1.3.js"></script>
<!-- Bootstrap -->
<script src="https://huxinmin.github.io/media/scripts/bootstrap.min.js"></script>
<!-- Waypoints -->
<script src="https://huxinmin.github.io/media/scripts/jquery.waypoints.min.js"></script>
<!-- Main JS -->
<script src="https://huxinmin.github.io/media/scripts/main.js"></script>
<!-- Md5 Min JS -->
<script src="https://huxinmin.github.io/media/scripts/md5.min.js"></script>
<!-- katex -->
<!--<script src="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.js"></script>-->
<!-- highlight -->
<script src="https://cdn.bootcss.com/highlight.js/9.15.8/highlight.min.js"></script>


<script type="application/javascript">
    // ä»£ç é«˜äº®
    hljs.initHighlightingOnLoad();

    // img æ‡’åŠ è½½
    $(function () {
        $("img.lazy").lazyload({
            effect: "fadeIn",  // æ‡’åŠ è½½åŠ¨ç”»
            threshold: 180  // åœ¨å›¾ç‰‡è·ç¦»å±å¹•180pxæ—¶æå‰è½½å…¥
        });
        // tooltip
        $('[data-toggle="tooltip"]').tooltip();

        // ç›®å½•
        $('#tool-toc').click(function () {
            $('.post-toc').toggle();
        });
    });

    
        var allImg = $("img");
        allImg.on("contextmenu", function () {
            return false;
        });
        allImg.on("dragstart", function () {
            return false;
        });
    
</script>




</body>
</html>
